{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/pages/[type].tsx\";\nimport React from 'react';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router';\nimport { Modal } from '@redq/reuse-modal';\nimport Carousel from 'components/carousel/carousel';\nimport { Banner } from 'components/banner/banner';\nimport { HorizontalCategoryCardMenu } from 'layouts/horizontal-category-menu/horizontal-category-card-menu';\nimport { MainContentArea, ContentSection, OfferSection, MobileCarouselDropdown } from 'assets/styles/pages.style'; // Static Data Import Here\n\nimport { siteOffers } from 'site-settings/site-offers';\nimport { sitePages } from 'site-settings/site-pages';\nimport { SEO } from 'components/seo';\nimport { useRefScroll } from 'utils/use-ref-scroll';\nimport { initializeApollo } from 'utils/apollo';\nimport { GET_PRODUCTS } from 'graphql/query/products.query';\nimport { GET_CATEGORIES } from 'graphql/query/category.query';\nimport { ModalProvider } from 'contexts/modal/modal.provider';\nimport { useQuery } from '@apollo/client';\nimport config from 'setting/config';\nimport { GET_INFO_SHOP } from 'utils/graphql/query/infoshop.query';\nconst Sidebar = dynamic(() => import('layouts/sidebar/sidebar'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('layouts/sidebar/sidebar')],\n    modules: [\"[type].tsx -> \" + 'layouts/sidebar/sidebar']\n  }\n});\nconst Products = dynamic(() => import('components/product-grid/product-list/product-list'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('components/product-grid/product-list/product-list')],\n    modules: [\"[type].tsx -> \" + 'components/product-grid/product-list/product-list']\n  }\n});\nconst CartPopUp = dynamic(() => import('features/carts/cart-popup'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('features/carts/cart-popup')],\n    modules: [\"[type].tsx -> \" + 'features/carts/cart-popup']\n  }\n});\n\nconst CategoryPage = ({\n  deviceType\n}) => {\n  const {\n    query\n  } = useRouter();\n  const {\n    elRef: targetRef,\n    scroll\n  } = useRefScroll({\n    percentOfElement: 0,\n    percentOfContainer: 0,\n    offsetPX: -110\n  });\n  const cid = config().SUBSCRIPTION_ID;\n  var {\n    data,\n    error,\n    refetch,\n    fetchMore\n  } = useQuery(GET_INFO_SHOP, {\n    variables: {\n      clientid: cid\n    }\n  });\n  React.useEffect(() => {\n    if (query.text || query.category) {\n      scroll();\n    }\n  }, [query.text, query.category]);\n  const PAGE_TYPE = query.type;\n  const page = sitePages[PAGE_TYPE];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [data && window.sessionStorage.setItem('cid', cid), /*#__PURE__*/_jsxDEV(SEO, {\n      title: data && data.info_shop_view[0].site_name,\n      description: data && data.info_shop_view[0].description + ' - Detalle'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(ModalProvider, {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        children: [/*#__PURE__*/_jsxDEV(Banner, {\n          intlTitleId: page === null || page === void 0 ? void 0 : page.banner_title_id,\n          intlDescriptionId: page === null || page === void 0 ? void 0 : page.banner_description_id,\n          imageUrl: page === null || page === void 0 ? void 0 : page.banner_image_url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OfferSection, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: '0 -10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Carousel, {\n              deviceType: deviceType,\n              data: siteOffers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MobileCarouselDropdown, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MainContentArea, {\n          children: /*#__PURE__*/_jsxDEV(ContentSection, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: targetRef,\n              children: [/*#__PURE__*/_jsxDEV(HorizontalCategoryCardMenu, {\n                type: PAGE_TYPE\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Products, {\n                type: PAGE_TYPE,\n                deviceType: deviceType,\n                fetchLimit: 20,\n                categoria: \"alfajores\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CartPopUp, {\n          deviceType: deviceType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\nexport const getStaticProps = async ({\n  params\n}) => {\n  const apolloClient = initializeApollo();\n  await apolloClient.query({\n    query: GET_PRODUCTS,\n    variables: {\n      type: params.type,\n      offset: 0,\n      limit: 20\n    }\n  });\n  await apolloClient.query({\n    query: GET_CATEGORIES,\n    variables: {\n      type: params.type\n    }\n  });\n  return {\n    props: {\n      initialApolloState: apolloClient.cache.extract()\n    },\n    revalidate: 1\n  };\n};\nexport async function getStaticPaths() {\n  return {\n    paths: [{\n      params: {\n        type: 'grocery'\n      }\n    }, {\n      params: {\n        type: 'makeup'\n      }\n    }, {\n      params: {\n        type: 'bags'\n      }\n    }, {\n      params: {\n        type: 'book'\n      }\n    }, {\n      params: {\n        type: 'medicine'\n      }\n    }, {\n      params: {\n        type: 'furniture'\n      }\n    }, {\n      params: {\n        type: 'clothing'\n      }\n    }],\n    fallback: false\n  };\n}\nexport default CategoryPage;","map":{"version":3,"sources":["/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/pages/[type].tsx"],"names":["React","dynamic","useRouter","Modal","Carousel","Banner","HorizontalCategoryCardMenu","MainContentArea","ContentSection","OfferSection","MobileCarouselDropdown","siteOffers","sitePages","SEO","useRefScroll","initializeApollo","GET_PRODUCTS","GET_CATEGORIES","ModalProvider","useQuery","config","GET_INFO_SHOP","Sidebar","Products","CartPopUp","ssr","CategoryPage","deviceType","query","elRef","targetRef","scroll","percentOfElement","percentOfContainer","offsetPX","cid","SUBSCRIPTION_ID","data","error","refetch","fetchMore","variables","clientid","useEffect","text","category","PAGE_TYPE","type","page","window","sessionStorage","setItem","info_shop_view","site_name","description","banner_title_id","banner_description_id","banner_image_url","margin","getStaticProps","params","apolloClient","offset","limit","props","initialApolloState","cache","extract","revalidate","getStaticPaths","paths","fallback"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { GetStaticProps } from 'next';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router';\nimport { Modal } from '@redq/reuse-modal';\nimport Carousel from 'components/carousel/carousel';\nimport { Banner } from 'components/banner/banner';\nimport { MobileBanner } from 'components/banner/mobile-banner';\nimport { HorizontalCategoryCardMenu } from 'layouts/horizontal-category-menu/horizontal-category-card-menu';\nimport { Box } from 'components/box';\nimport {\n  MainContentArea,\n  SidebarSection,\n  ContentSection,\n  OfferSection,\n  MobileCarouselDropdown,\n} from 'assets/styles/pages.style';\n// Static Data Import Here\nimport { siteOffers } from 'site-settings/site-offers';\nimport { sitePages } from 'site-settings/site-pages';\nimport { SEO } from 'components/seo';\nimport { useRefScroll } from 'utils/use-ref-scroll';\nimport { initializeApollo } from 'utils/apollo';\nimport { GET_PRODUCTS } from 'graphql/query/products.query';\nimport { GET_CATEGORIES } from 'graphql/query/category.query';\nimport { ModalProvider } from 'contexts/modal/modal.provider';\nimport { useQuery, gql } from '@apollo/client';\nimport config from 'setting/config';\nimport { GET_INFO_SHOP } from 'utils/graphql/query/infoshop.query';\nimport { ADD_ORDER } from 'utils/graphql/mutation/order';\n\nconst Sidebar = dynamic(() => import('layouts/sidebar/sidebar'));\nconst Products = dynamic(() =>\n  import('components/product-grid/product-list/product-list')\n);\nconst CartPopUp = dynamic(() => import('features/carts/cart-popup'), {\n  ssr: false,\n});\n\nconst CategoryPage: React.FC<any> = ({ deviceType }) => {\n\n  const { query } = useRouter();\n  const { elRef: targetRef, scroll } = useRefScroll({\n    percentOfElement: 0,\n    percentOfContainer: 0,\n    offsetPX: -110,\n  });\n  const cid =  config().SUBSCRIPTION_ID;\n  var { data, error, refetch, fetchMore } = useQuery(GET_INFO_SHOP,\n    {\n        variables: {\n          clientid: cid\n\n        }\n    }); \n \n  React.useEffect(() => {\n    if (query.text || query.category) {\n      scroll();\n    }\n  }, [query.text, query.category]);\n  const PAGE_TYPE: any = query.type;\n  const page = sitePages[PAGE_TYPE];\n\n  \n   \n  return (\n    <>\n       {data && window.sessionStorage.setItem('cid',cid)}\n       <SEO title={data && data.info_shop_view[0].site_name} description={data && data.info_shop_view[0].description + ' - Detalle'} />\n      <ModalProvider>\n        <Modal>\n         {/*  <MobileBanner intlTitleId={page?.banner_title_id} type={PAGE_TYPE} /> */}\n          <Banner\n            intlTitleId={page?.banner_title_id}\n            intlDescriptionId={page?.banner_description_id}\n            imageUrl={page?.banner_image_url}\n          />\n          <OfferSection>\n            <div style={{ margin: '0 -10px' }}>\n              <Carousel deviceType={deviceType} data={siteOffers} />\n            </div>\n          </OfferSection>\n          <MobileCarouselDropdown>\n          {/*   <Sidebar type={PAGE_TYPE} deviceType={deviceType} /> */}\n          </MobileCarouselDropdown>\n          <MainContentArea>\n            <ContentSection>\n              <div ref={targetRef}>\n              <HorizontalCategoryCardMenu type={PAGE_TYPE} />       \n                <Products\n                  type={PAGE_TYPE}\n                  deviceType={deviceType}\n                  fetchLimit={20}\n                  categoria='alfajores'\n                />\n              </div>\n            </ContentSection>\n          </MainContentArea>\n          <CartPopUp deviceType={deviceType} />\n        </Modal>\n      </ModalProvider>\n    </>\n  );\n};\nexport const getStaticProps: GetStaticProps = async ({ params }) => {\n  const apolloClient = initializeApollo();\n\n  await apolloClient.query({\n    query: GET_PRODUCTS,\n    variables: {\n      type: params.type,\n      offset: 0,\n      limit: 20,\n    },\n  });\n  await apolloClient.query({\n    query: GET_CATEGORIES,\n    variables: {\n      type: params.type,\n    },\n  });\n\n  return {\n    props: {\n      initialApolloState: apolloClient.cache.extract(),\n    },\n    revalidate: 1,\n  };\n};\n\nexport async function getStaticPaths() {\n  return {\n    paths: [\n      { params: { type: 'grocery' } },\n      { params: { type: 'makeup' } },\n      { params: { type: 'bags' } },\n      { params: { type: 'book' } },\n      { params: { type: 'medicine' } },\n      { params: { type: 'furniture' } },\n      { params: { type: 'clothing' } },\n    ],\n    fallback: false,\n  };\n}\nexport default CategoryPage;\n"]},"metadata":{},"sourceType":"module"}