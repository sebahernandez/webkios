{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router';\nimport { Modal } from '@redq/reuse-modal';\nimport Carousel from 'components/carousel/carousel';\nimport { Banner } from 'components/banner/banner';\nimport { HorizontalCategoryCardMenu } from 'layouts/horizontal-category-menu/horizontal-category-card-menu';\nimport { MainContentArea, ContentSection, OfferSection, MobileCarouselDropdown } from 'assets/styles/pages.style'; // Static Data Import Here\n\nimport { siteOffers } from 'site-settings/site-offers';\nimport { sitePages } from 'site-settings/site-pages';\nimport { SEO } from 'components/seo';\nimport { useRefScroll } from 'utils/use-ref-scroll';\nimport { ModalProvider } from 'contexts/modal/modal.provider';\nimport { useQuery } from '@apollo/client';\nimport config from 'setting/config';\nimport { GET_INFO_SHOP } from 'utils/graphql/query/infoshop.query';\nvar Sidebar = dynamic(function () {\n  return import('layouts/sidebar/sidebar');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('layouts/sidebar/sidebar')];\n    },\n    modules: [\"[type].tsx -> \" + 'layouts/sidebar/sidebar']\n  }\n});\nvar Products = dynamic(function () {\n  return import('components/product-grid/product-list/product-list');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('components/product-grid/product-list/product-list')];\n    },\n    modules: [\"[type].tsx -> \" + 'components/product-grid/product-list/product-list']\n  }\n});\nvar CartPopUp = dynamic(function () {\n  return import('features/carts/cart-popup');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('features/carts/cart-popup')];\n    },\n    modules: [\"[type].tsx -> \" + 'features/carts/cart-popup']\n  }\n});\n\nvar CategoryPage = function CategoryPage(_ref) {\n  var deviceType = _ref.deviceType;\n\n  var _useRouter = useRouter(),\n      query = _useRouter.query;\n\n  var _useRefScroll = useRefScroll({\n    percentOfElement: 0,\n    percentOfContainer: 0,\n    offsetPX: -110\n  }),\n      targetRef = _useRefScroll.elRef,\n      scroll = _useRefScroll.scroll;\n\n  var cid = config().SUBSCRIPTION_ID;\n\n  var _useQuery = useQuery(GET_INFO_SHOP, {\n    variables: {\n      clientid: cid\n    }\n  }),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      refetch = _useQuery.refetch,\n      fetchMore = _useQuery.fetchMore;\n\n  React.useEffect(function () {\n    if (query.text || query.category) {\n      scroll();\n    }\n  }, [query.text, query.category]);\n  var PAGE_TYPE = query.type;\n  var page = sitePages[PAGE_TYPE];\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [data && window.sessionStorage.setItem('cid', cid), /*#__PURE__*/_jsx(SEO, {\n      title: data && data.info_shop_view[0].site_name,\n      description: data && data.info_shop_view[0].description + ' - Detalle'\n    }), /*#__PURE__*/_jsx(ModalProvider, {\n      children: /*#__PURE__*/_jsxs(Modal, {\n        children: [/*#__PURE__*/_jsx(Banner, {\n          intlTitleId: page === null || page === void 0 ? void 0 : page.banner_title_id,\n          intlDescriptionId: page === null || page === void 0 ? void 0 : page.banner_description_id,\n          imageUrl: page === null || page === void 0 ? void 0 : page.banner_image_url\n        }), /*#__PURE__*/_jsx(OfferSection, {\n          children: /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              margin: '0 -10px'\n            },\n            children: /*#__PURE__*/_jsx(Carousel, {\n              deviceType: deviceType,\n              data: siteOffers\n            })\n          })\n        }), /*#__PURE__*/_jsx(MobileCarouselDropdown, {}), /*#__PURE__*/_jsx(MainContentArea, {\n          children: /*#__PURE__*/_jsx(ContentSection, {\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              ref: targetRef,\n              children: [/*#__PURE__*/_jsx(HorizontalCategoryCardMenu, {\n                type: PAGE_TYPE\n              }), /*#__PURE__*/_jsx(Products, {\n                type: PAGE_TYPE,\n                deviceType: deviceType,\n                fetchLimit: 20\n              })]\n            })\n          })\n        }), /*#__PURE__*/_jsx(CartPopUp, {\n          deviceType: deviceType\n        })]\n      })\n    })]\n  });\n};\n\nexport var __N_SSG = true;\nexport default CategoryPage;","map":null,"metadata":{},"sourceType":"module"}