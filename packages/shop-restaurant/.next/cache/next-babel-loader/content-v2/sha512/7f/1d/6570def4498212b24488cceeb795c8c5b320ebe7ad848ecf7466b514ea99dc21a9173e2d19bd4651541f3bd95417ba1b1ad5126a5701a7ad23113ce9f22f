{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/features/address/address.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useContext } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport RadioGroup from 'components/radio-group/radio-group';\nimport RadioCard from 'components/radio-card/radio-card';\nimport { Button } from 'components/button/button';\nimport UpdateAddress from 'components/address-card/address-card';\nimport { handleModal } from 'features/checkouts/checkout-modal';\nimport { ProfileContext } from 'contexts/profile/profile.context';\nimport { useMutation } from '@apollo/client';\nimport { DELETE_ADDRESS } from 'utils/graphql/mutation/address';\nimport { CardHeader } from 'components/card-header/card-header';\nimport { ButtonGroup } from 'components/button-group/button-group';\nimport { Box } from 'components/box';\nimport { Plus } from 'assets/icons/PlusMinus';\nimport { useEffect } from 'react';\nimport Cookies from 'universal-cookie';\n\nconst Address = ({\n  increment = false,\n  address,\n  flexStart = false,\n  buttonProps = {\n    size: 'big',\n    variant: 'outlined',\n    type: 'button',\n    className: 'add-button'\n  },\n  icon = false\n}) => {\n  const [deleteAddressMutation] = useMutation(DELETE_ADDRESS);\n  const {\n    state: {\n      address2\n    },\n    dispatch\n  } = useContext(ProfileContext);\n\n  const handleOnDelete = async item => {\n    const cookie = new Cookies();\n    const cid = cookie.get('cid');\n    dispatch({\n      type: 'DELETE_ADDRESS',\n      payload: item.id\n    });\n    return await deleteAddressMutation({\n      variables: {\n        id: JSON.stringify(item.id),\n        cliente: cookie.get('customer').id,\n        clientid: cid\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (address) console.log('direccion de origen:', address);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      increment: increment,\n      children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n        id: \"checkoutDeliveryAddress\",\n        defaultMessage: \"Selecciona tu direcci\\xF3n de Entrega\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n      flexStart: flexStart,\n      children: /*#__PURE__*/_jsxDEV(RadioGroup, {\n        items: address,\n        component: item => /*#__PURE__*/_jsxDEV(RadioCard, {\n          id: item.id,\n          title: item.name,\n          content: item.info,\n          name: \"address\",\n          checked: item.type === 'primary',\n          onChange: () => dispatch({\n            type: 'SET_PRIMARY_ADDRESS',\n            payload: item.id.toString()\n          }),\n          onEdit: () => handleModal(UpdateAddress, item),\n          onDelete: () => handleOnDelete(item)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this),\n        secondaryComponent: /*#__PURE__*/_jsxDEV(Button, _objectSpread(_objectSpread({}, buttonProps), {}, {\n          onClick: () => handleModal(UpdateAddress, 'add-address-modal'),\n          children: [icon && /*#__PURE__*/_jsxDEV(Box, {\n            mr: 2,\n            children: /*#__PURE__*/_jsxDEV(Plus, {\n              width: \"10px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(FormattedMessage, {\n            id: \"addAddressBtn\",\n            defaultMessage: \"Agrega tu Direcci\\xF3n de Entrega\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)]\n        }), void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\nexport default Address;","map":{"version":3,"sources":["/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/features/address/address.tsx"],"names":["React","useContext","FormattedMessage","RadioGroup","RadioCard","Button","UpdateAddress","handleModal","ProfileContext","useMutation","DELETE_ADDRESS","CardHeader","ButtonGroup","Box","Plus","useEffect","Cookies","Address","increment","address","flexStart","buttonProps","size","variant","type","className","icon","deleteAddressMutation","state","address2","dispatch","handleOnDelete","item","cookie","cid","get","payload","id","variables","JSON","stringify","cliente","clientid","console","log","name","info","toString"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport RadioGroup from 'components/radio-group/radio-group';\nimport RadioCard from 'components/radio-card/radio-card';\nimport { Button } from 'components/button/button';\nimport UpdateAddress from 'components/address-card/address-card';\nimport { handleModal } from 'features/checkouts/checkout-modal';\nimport { ProfileContext } from 'contexts/profile/profile.context';\nimport { useMutation } from '@apollo/client'; \nimport { DELETE_ADDRESS } from 'utils/graphql/mutation/address';\nimport { CardHeader } from 'components/card-header/card-header';\nimport { ButtonGroup } from 'components/button-group/button-group';\nimport { Box } from 'components/box';\nimport { Plus } from 'assets/icons/PlusMinus';\nimport { useEffect } from 'react'; \nimport Cookies  from 'universal-cookie';\n\ninterface Props {\n  increment?: boolean;\n  icon?: boolean;\n  buttonProps?: any;\n  flexStart?: boolean;\n  address?: any;\n}\n\nconst Address = ({\n  increment = false, \n  address,\n  flexStart = false,\n  buttonProps = {\n    size: 'big',\n    variant: 'outlined',\n    type: 'button',\n    className: 'add-button',\n  },\n  icon = false,\n}: Props) => {\n  const [deleteAddressMutation] = useMutation(DELETE_ADDRESS);\n\n   const {\n    state: { \n      address2\n     },\n    dispatch,\n  } = useContext(ProfileContext); \n\n  const handleOnDelete = async (item) => {\n    const cookie = new Cookies() \n    const cid = cookie.get('cid')\n    dispatch({ type: 'DELETE_ADDRESS', payload: item.id });\n      return await deleteAddressMutation(\n        {\n        variables: { \n          id: JSON.stringify(item.id) ,\n          cliente: cookie.get('customer').id,\n          clientid: cid\n        },\n     }); \n  };\n\n  useEffect(() => \n  {\n    if(address) console.log('direccion de origen:', address)\n  })\n\n \n  return (\n    <>\n      <CardHeader increment={increment}>\n        <FormattedMessage\n          id='checkoutDeliveryAddress'\n          defaultMessage='Selecciona tu dirección de Entrega'\n        />\n      </CardHeader>\n      <ButtonGroup flexStart={flexStart}>\n        <RadioGroup\n          items={address}\n          component={(item: any) => (\n            <RadioCard\n              id={item.id}\n              key={item.id}\n              title={item.name}\n              content={item.info}\n              name='address'\n              checked={item.type === 'primary'}\n              onChange={() =>\n                dispatch({\n                  type: 'SET_PRIMARY_ADDRESS',\n                  payload: item.id.toString(),\n                })\n              }\n              onEdit={() => handleModal(UpdateAddress, item)}\n              onDelete={() => handleOnDelete(item)}\n            />\n          )}\n          secondaryComponent={\n            <Button\n              {...buttonProps}\n              onClick={() => handleModal(UpdateAddress, 'add-address-modal')}\n            >\n              {icon && (\n                <Box mr={2}>\n                  <Plus width='10px' />\n                </Box>\n              )}\n              <FormattedMessage\n                id='addAddressBtn'\n                defaultMessage='Agrega tu Dirección de Entrega'\n              />\n            </Button>\n          }\n        />\n      </ButtonGroup>\n    </>\n  );\n};\nexport default Address;\n"]},"metadata":{},"sourceType":"module"}