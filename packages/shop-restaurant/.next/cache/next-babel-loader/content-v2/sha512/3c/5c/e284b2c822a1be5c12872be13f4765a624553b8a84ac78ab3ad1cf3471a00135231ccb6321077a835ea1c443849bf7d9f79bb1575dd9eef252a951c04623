{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext } from 'react';\nimport { openModal } from '@redq/reuse-modal';\nimport Router from 'next/router';\nimport { FormattedMessage } from 'react-intl';\nimport { Scrollbar } from 'components/scrollbar/scrollbar';\nimport Drawer from 'components/drawer/drawer';\nimport { Button } from 'components/button/button';\nimport NavLink from 'components/nav-link/nav-link';\nimport { CloseIcon } from 'assets/icons/CloseIcon';\nimport { AuthContext } from 'contexts/auth/auth.context';\nimport AuthenticationForm from 'features/authentication-form';\nimport { DrawerBody, HamburgerIcon, DrawerContentWrapper, DrawerClose, DrawerProfile, LogoutView, LoginView, UserAvatar, UserDetails, DrawerMenu, DrawerMenuItem, UserOptionMenu } from './header.style';\nimport UserImage from 'assets/images/user.jpg';\nimport { MOBILE_DRAWER_MENU, PROFILE_PAGE } from 'site-settings/site-navigation';\nimport { useAppState, useAppDispatch } from 'contexts/app/app.provider';\n\nvar MobileDrawer = function MobileDrawer() {\n  var isDrawerOpen = useAppState('isDrawerOpen');\n  var dispatch = useAppDispatch();\n\n  var _useContext = useContext(AuthContext),\n      isAuthenticated = _useContext.authState.isAuthenticated,\n      authDispatch = _useContext.authDispatch; // Toggle drawer\n\n\n  var toggleHandler = React.useCallback(function () {\n    dispatch({\n      type: 'TOGGLE_DRAWER'\n    });\n  }, [dispatch]);\n\n  var handleLogout = function handleLogout() {\n    if (true) {\n      localStorage.removeItem('access_token');\n      authDispatch({\n        type: 'SIGN_OUT'\n      });\n      Router.push('/');\n    }\n  };\n\n  var signInOutForm = function signInOutForm() {\n    dispatch({\n      type: 'TOGGLE_DRAWER'\n    });\n    authDispatch({\n      type: 'SIGNIN'\n    });\n    openModal({\n      show: true,\n      overlayClassName: 'quick-view-overlay',\n      closeOnClickOutside: true,\n      component: AuthenticationForm,\n      closeComponent: '',\n      config: {\n        enableResizing: false,\n        disableDragging: true,\n        className: 'quick-view-modal',\n        width: 458,\n        height: 'auto'\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsx(Drawer, {\n    width: \"316px\",\n    drawerHandler: /*#__PURE__*/_jsxs(HamburgerIcon, {\n      children: [/*#__PURE__*/_jsx(\"span\", {}), /*#__PURE__*/_jsx(\"span\", {}), /*#__PURE__*/_jsx(\"span\", {})]\n    }),\n    open: isDrawerOpen,\n    toggleHandler: toggleHandler,\n    closeButton: /*#__PURE__*/_jsx(DrawerClose, {\n      children: /*#__PURE__*/_jsx(CloseIcon, {})\n    }),\n    children: /*#__PURE__*/_jsx(DrawerBody, {\n      children: /*#__PURE__*/_jsx(Scrollbar, {\n        className: \"drawer-scrollbar\",\n        children: /*#__PURE__*/_jsxs(DrawerContentWrapper, {\n          children: [/*#__PURE__*/_jsx(DrawerProfile, {\n            children: isAuthenticated ? /*#__PURE__*/_jsxs(LoginView, {\n              children: [/*#__PURE__*/_jsx(UserAvatar, {\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: UserImage,\n                  alt: \"user_avatar\"\n                })\n              }), /*#__PURE__*/_jsxs(UserDetails, {\n                children: [/*#__PURE__*/_jsx(\"h3\", {\n                  children: \"David Kinderson\"\n                }), /*#__PURE__*/_jsx(\"span\", {\n                  children: \"+990 374 987\"\n                })]\n              })]\n            }) : /*#__PURE__*/_jsx(LogoutView, {\n              children: /*#__PURE__*/_jsx(Button, {\n                variant: \"primary\",\n                onClick: signInOutForm,\n                children: /*#__PURE__*/_jsx(FormattedMessage, {\n                  id: \"mobileSignInButtonText\",\n                  defaultMessage: \"join\"\n                })\n              })\n            })\n          }), /*#__PURE__*/_jsx(DrawerMenu, {\n            children: MOBILE_DRAWER_MENU.map(function (item) {\n              return /*#__PURE__*/_jsx(DrawerMenuItem, {\n                children: /*#__PURE__*/_jsx(NavLink, {\n                  onClick: toggleHandler,\n                  href: item.href,\n                  label: item.defaultMessage,\n                  intlId: item.id,\n                  className: \"drawer_menu_item\"\n                })\n              }, item.id);\n            })\n          }), isAuthenticated && /*#__PURE__*/_jsxs(UserOptionMenu, {\n            children: [/*#__PURE__*/_jsx(DrawerMenuItem, {\n              children: /*#__PURE__*/_jsx(NavLink, {\n                href: PROFILE_PAGE,\n                label: \"Your Account Settings\",\n                className: \"drawer_menu_item\",\n                intlId: \"navlinkAccountSettings\"\n              })\n            }), /*#__PURE__*/_jsx(DrawerMenuItem, {\n              children: /*#__PURE__*/_jsx(\"div\", {\n                onClick: handleLogout,\n                className: \"drawer_menu_item\",\n                children: /*#__PURE__*/_jsx(\"span\", {\n                  className: \"logoutBtn\",\n                  children: /*#__PURE__*/_jsx(FormattedMessage, {\n                    id: \"navlinkLogout\",\n                    defaultMessage: \"Logout\"\n                  })\n                })\n              })\n            })]\n          })]\n        })\n      })\n    })\n  });\n};\n\nexport default MobileDrawer;","map":null,"metadata":{},"sourceType":"module"}