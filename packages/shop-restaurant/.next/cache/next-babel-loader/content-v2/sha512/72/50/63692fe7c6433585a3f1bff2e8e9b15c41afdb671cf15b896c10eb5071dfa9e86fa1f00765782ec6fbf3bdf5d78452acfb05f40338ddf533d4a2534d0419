{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { openModal } from '@redq/reuse-modal';\nimport { AuthContext } from 'contexts/auth/auth.context';\nimport AuthenticationForm from 'features/authentication-form';\nimport { RightMenu } from './menu/right-menu/right-menu';\nimport { LeftMenu } from './menu/left-menu/left-menu';\nimport HeaderWrapper from './header.style';\nimport UserImage from 'assets/images/user.jpg';\nimport { isCategoryPage } from '../is-home-page';\nimport Search from 'features/search/search';\nimport { GET_INFO_SHOP } from 'utils/graphql/query/infoshop.query';\nimport { useQuery } from '@apollo/client';\nimport config from 'setting/config';\n\nvar Header = function Header(_ref) {\n  var className = _ref.className;\n\n  var _React$useContext = React.useContext(AuthContext),\n      isAuthenticated = _React$useContext.authState.isAuthenticated,\n      authDispatch = _React$useContext.authDispatch;\n\n  var defaultValue = {\n    first: 'Ron',\n    last: 'Burgundy'\n  };\n\n  var _useRouter = useRouter(),\n      pathname = _useRouter.pathname,\n      query = _useRouter.query;\n\n  var handleLogout = function handleLogout() {\n    if (true) {\n      localStorage.removeItem('access_token');\n      localStorage.removeItem('user_logged');\n      authDispatch({\n        type: 'SIGN_OUT'\n      });\n      Router.push('/');\n    }\n  };\n\n  var _useQuery = useQuery(GET_INFO_SHOP, {\n    variables: {\n      clientid: config().SUBSCRIPTION_ID\n    }\n  }),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      refetch = _useQuery.refetch,\n      fetchMore = _useQuery.fetchMore;\n\n  var handleJoin = function handleJoin() {\n    authDispatch({\n      type: 'SIGNIN'\n    });\n    openModal({\n      show: true,\n      overlayClassName: 'quick-view-overlay',\n      closeOnClickOutside: true,\n      component: AuthenticationForm,\n      closeComponent: '',\n      config: {\n        enableResizing: false,\n        disableDragging: true,\n        className: 'quick-view-modal',\n        width: 458,\n        height: 'auto'\n      }\n    });\n  };\n  /*   if(localStorage!==undefined){\n      console.log('header', localStorage.getItem('user_logged')) \n    } */\n\n\n  var showSearch = isCategoryPage(query.type) || pathname === '/furniture-two' || pathname === '/grocery-two' || pathname === '/bakery';\n  return /*#__PURE__*/_jsxs(HeaderWrapper, {\n    className: className,\n    id: \"layout-header\",\n    children: [/*#__PURE__*/_jsx(LeftMenu, {\n      logo: data && data.info_shop_view[0].img_site_url\n    }), showSearch && /*#__PURE__*/_jsx(Search, {\n      minimal: true,\n      className: \"headerSearch\"\n    }), /*#__PURE__*/_jsx(RightMenu, {\n      isAuthenticated: isAuthenticated,\n      onJoin: handleJoin,\n      onLogout: handleLogout,\n      avatar: UserImage\n    })]\n  });\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}