{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/components/gift-card/gift-card.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Img } from \"react-image\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport { FormattedMessage } from \"react-intl\";\nimport { GiftCardWrapper, GiftCardImageWrapper, CardInfo, CardContent, CopyButton, GiftCode, CopySuccess } from \"./gift-card.style\";\n\nconst GiftCard = (_ref) => {\n  let {\n    image,\n    weight,\n    onClick,\n    onChange,\n    code\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"image\", \"weight\", \"onClick\", \"onChange\", \"code\"]);\n\n  const {\n    0: copyText,\n    1: setCopyText\n  } = useState({\n    value: code,\n    copied: false\n  });\n  const codeRef = useRef(null);\n  useEffect(() => {\n    if (copyText.copied) {\n      setTimeout(() => {\n        setCopyText(_objectSpread(_objectSpread({}, copyText), {}, {\n          copied: false\n        }));\n      }, 3500);\n    }\n  }, [copyText.copied]);\n  return /*#__PURE__*/_jsxDEV(GiftCardWrapper, _objectSpread(_objectSpread({}, props), {}, {\n    className: \"product-card\",\n    children: [/*#__PURE__*/_jsxDEV(GiftCardImageWrapper, {\n      children: /*#__PURE__*/_jsxDEV(Img, {\n        src: image,\n        className: \"gift-image\",\n        alt: \"gift image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardInfo, {\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(GiftCode, {\n          ref: codeRef,\n          value: copyText.value,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), !copyText.copied ? /*#__PURE__*/_jsxDEV(CopyToClipboard, {\n          text: copyText.value,\n          onCopy: () => setCopyText(_objectSpread(_objectSpread({}, copyText), {}, {\n            copied: true\n          })),\n          children: /*#__PURE__*/_jsxDEV(CopyButton, {\n            children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n              id: \"intlCopyBtnId\",\n              defaultMessage: \"Copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(CopySuccess, {\n          children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n            id: \"intlCopySuccessId\",\n            defaultMessage: \"Copied!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }), void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n\nexport default GiftCard;","map":{"version":3,"sources":["/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/components/gift-card/gift-card.tsx"],"names":["React","useRef","useState","useEffect","Img","CopyToClipboard","FormattedMessage","GiftCardWrapper","GiftCardImageWrapper","CardInfo","CardContent","CopyButton","GiftCode","CopySuccess","GiftCard","image","weight","onClick","onChange","code","props","copyText","setCopyText","value","copied","codeRef","setTimeout"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,SAASC,GAAT,QAAoB,aAApB;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,SAASC,gBAAT,QAAiC,YAAjC;AACA,SACEC,eADF,EAEEC,oBAFF,EAGEC,QAHF,EAIEC,WAJF,EAKEC,UALF,EAMEC,QANF,EAOEC,WAPF,QAQO,mBARP;;AAkBA,MAAMC,QAAiC,GAAG,UAOpC;AAAA,MAPqC;AACzCC,IAAAA,KADyC;AAEzCC,IAAAA,MAFyC;AAGzCC,IAAAA,OAHyC;AAIzCC,IAAAA,QAJyC;AAKzCC,IAAAA;AALyC,GAOrC;AAAA,MADDC,KACC;;AACJ,QAAM;AAAA,OAACC,QAAD;AAAA,OAAWC;AAAX,MAA0BpB,QAAQ,CAAC;AACvCqB,IAAAA,KAAK,EAAEJ,IADgC;AAEvCK,IAAAA,MAAM,EAAE;AAF+B,GAAD,CAAxC;AAIA,QAAMC,OAAO,GAAGxB,MAAM,CAAC,IAAD,CAAtB;AAEAE,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIkB,QAAQ,CAACG,MAAb,EAAqB;AACnBE,MAAAA,UAAU,CAAC,MAAM;AACfJ,QAAAA,WAAW,iCACND,QADM;AAETG,UAAAA,MAAM,EAAE;AAFC,WAAX;AAID,OALS,EAKP,IALO,CAAV;AAMD;AACF,GATQ,EASN,CAACH,QAAQ,CAACG,MAAV,CATM,CAAT;AAWA,sBACE,QAAC,eAAD,kCAAqBJ,KAArB;AAA4B,IAAA,SAAS,EAAC,cAAtC;AAAA,4BACE,QAAC,oBAAD;AAAA,6BACE,QAAC,GAAD;AAAK,QAAA,GAAG,EAAEL,KAAV;AAAiB,QAAA,SAAS,EAAC,YAA3B;AAAwC,QAAA,GAAG,EAAC;AAA5C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE,QAAC,QAAD;AAAA,6BACE,QAAC,WAAD;AAAA,gCACE,QAAC,QAAD;AAAU,UAAA,GAAG,EAAEU,OAAf;AAAwB,UAAA,KAAK,EAAEJ,QAAQ,CAACE,KAAxC;AAA+C,UAAA,QAAQ;AAAvD;AAAA;AAAA;AAAA;AAAA,gBADF,EAGG,CAACF,QAAQ,CAACG,MAAV,gBACC,QAAC,eAAD;AACE,UAAA,IAAI,EAAEH,QAAQ,CAACE,KADjB;AAEE,UAAA,MAAM,EAAE,MACND,WAAW,iCACND,QADM;AAETG,YAAAA,MAAM,EAAE;AAFC,aAHf;AAAA,iCASE,QAAC,UAAD;AAAA,mCACE,QAAC,gBAAD;AAAkB,cAAA,EAAE,EAAC,eAArB;AAAqC,cAAA,cAAc,EAAC;AAApD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AATF;AAAA;AAAA;AAAA;AAAA,gBADD,gBAeC,QAAC,WAAD;AAAA,iCACE,QAAC,gBAAD;AACE,YAAA,EAAE,EAAC,mBADL;AAEE,YAAA,cAAc,EAAC;AAFjB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAlBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmCD,CA5DD;;AA8DA,eAAeV,QAAf","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { Img } from \"react-image\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport { FormattedMessage } from \"react-intl\";\nimport {\n  GiftCardWrapper,\n  GiftCardImageWrapper,\n  CardInfo,\n  CardContent,\n  CopyButton,\n  GiftCode,\n  CopySuccess,\n} from \"./gift-card.style\";\n\ntype GiftCardProps = {\n  image?: any;\n  weight?: string;\n  code?: any;\n  onClick?: (e: any) => void;\n  onChange?: (e: any) => void;\n};\n\nconst GiftCard: React.FC<GiftCardProps> = ({\n  image,\n  weight,\n  onClick,\n  onChange,\n  code,\n  ...props\n}) => {\n  const [copyText, setCopyText] = useState({\n    value: code,\n    copied: false,\n  });\n  const codeRef = useRef(null);\n\n  useEffect(() => {\n    if (copyText.copied) {\n      setTimeout(() => {\n        setCopyText({\n          ...copyText,\n          copied: false,\n        });\n      }, 3500);\n    }\n  }, [copyText.copied]);\n\n  return (\n    <GiftCardWrapper {...props} className=\"product-card\">\n      <GiftCardImageWrapper>\n        <Img src={image} className=\"gift-image\" alt=\"gift image\" />\n      </GiftCardImageWrapper>\n      <CardInfo>\n        <CardContent>\n          <GiftCode ref={codeRef} value={copyText.value} readOnly />\n\n          {!copyText.copied ? (\n            <CopyToClipboard\n              text={copyText.value}\n              onCopy={() =>\n                setCopyText({\n                  ...copyText,\n                  copied: true,\n                })\n              }\n            >\n              <CopyButton>\n                <FormattedMessage id=\"intlCopyBtnId\" defaultMessage=\"Copy\" />\n              </CopyButton>\n            </CopyToClipboard>\n          ) : (\n            <CopySuccess>\n              <FormattedMessage\n                id=\"intlCopySuccessId\"\n                defaultMessage=\"Copied!\"\n              />\n            </CopySuccess>\n          )}\n        </CardContent>\n      </CardInfo>\n    </GiftCardWrapper>\n  );\n};\n\nexport default GiftCard;\n"]},"metadata":{},"sourceType":"module"}