{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/alejandrosandoval/space/world_eserp/web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/alejandrosandoval/space/world_eserp/web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/features/checkouts/checkout-two/checkout-two.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport { Button } from 'components/button/button';\nimport { CURRENCY } from 'utils/constant';\nimport { Scrollbar } from 'components/scrollbar/scrollbar';\nimport CheckoutWrapper, { CheckoutContainer, CheckoutInformation, InformationBox, DeliverySchedule, CheckoutSubmit, HaveCoupon, CouponBoxWrapper, CouponInputBox, CouponCode, RemoveCoupon, TermConditionText, TermConditionLink, CartWrapper, CalculationWrapper, OrderInfo, Title, ItemsWrapper, Items, Quantity, Multiplier, ItemInfo, Price, TextWrapper, Text, Bold, Small, NoProductMsg, NoProductImg } from './checkout-two.style';\nimport { NoCartBag } from 'assets/icons/NoCartBag';\nimport Sticky from 'react-stickynode';\nimport { ProfileContext } from 'contexts/profile/profile.context';\nimport { FormattedMessage } from 'react-intl';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { useLocale } from 'contexts/language/language.provider';\nimport { useWindowSize } from 'utils/useWindowSize';\nimport Coupon from 'features/coupon/coupon';\nimport Address from 'features/address/address';\nimport Schedules from 'features/schedule/schedule';\nimport Contact from 'features/contact/contact';\nimport Payment from 'features/payment/payment'; // The type of props Checkout Form receives\n\nvar OrderItem = function OrderItem(_ref) {\n  var product = _ref.product;\n  var id = product.id,\n      quantity = product.quantity,\n      title = product.title,\n      nombre = product.nombre,\n      unit = product.unit,\n      precio = product.precio,\n      precio_venta = product.precio_venta;\n  var displayPrice = precio_venta ? precio_venta : precio;\n  return /*#__PURE__*/_jsxDEV(Items, {\n    children: [/*#__PURE__*/_jsxDEV(Quantity, {\n      children: quantity\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Multiplier, {\n      children: \"x\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(ItemInfo, {\n      children: [nombre ? nombre : title, \" \", unit ? \"| \".concat(unit) : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Price, {\n      children: [CURRENCY, (displayPrice * quantity).toFixed(0)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, _this)]\n  }, id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, _this);\n};\n\n_c = OrderItem;\n\nvar CheckoutWithSidebar = function CheckoutWithSidebar(_ref2) {\n  _s();\n\n  var token = _ref2.token,\n      deviceType = _ref2.deviceType;\n\n  var _useState = useState(false),\n      hasCoupon = _useState[0],\n      setHasCoupon = _useState[1];\n\n  var _useContext = useContext(ProfileContext),\n      state = _useContext.state;\n\n  var _useLocale = useLocale(),\n      isRtl = _useLocale.isRtl;\n\n  var _useCart = useCart(),\n      items = _useCart.items,\n      removeCoupon = _useCart.removeCoupon,\n      coupon = _useCart.coupon,\n      clearCart = _useCart.clearCart,\n      cartItemsCount = _useCart.cartItemsCount,\n      calculatePrice = _useCart.calculatePrice,\n      calculateDiscount = _useCart.calculateDiscount,\n      calculateSubTotalPrice = _useCart.calculateSubTotalPrice,\n      isRestaurant = _useCart.isRestaurant,\n      toggleRestaurant = _useCart.toggleRestaurant;\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      isValid = _useState3[0],\n      setIsValid = _useState3[1];\n\n  var address = state.address,\n      contact = state.contact,\n      card = state.card,\n      schedules = state.schedules;\n  var size = useWindowSize();\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n\n              if (isValid) {\n                clearCart();\n                Router.push('/order-received');\n              }\n\n              setLoading(false);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    /*   if (\n        calculatePrice() > 0 &&\n        cartItemsCount > 0 &&\n        address.length &&\n        contact.length &&\n        card.length &&\n        schedules.length\n      ) { */\n    setIsValid(true);\n    /* } */\n  }, [state]);\n  useEffect(function () {\n    return function () {\n      if (isRestaurant) {\n        toggleRestaurant();\n        clearCart();\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(CheckoutWrapper, {\n      children: /*#__PURE__*/_jsxDEV(CheckoutContainer, {\n        children: [/*#__PURE__*/_jsxDEV(CheckoutInformation, {\n          children: [/*#__PURE__*/_jsxDEV(InformationBox, {\n            children: /*#__PURE__*/_jsxDEV(Address, {\n              increment: true,\n              flexStart: true,\n              buttonProps: {\n                variant: 'text',\n                type: 'button',\n                className: 'addButton'\n              },\n              icon: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(InformationBox, {\n            children: /*#__PURE__*/_jsxDEV(DeliverySchedule, {\n              children: /*#__PURE__*/_jsxDEV(Schedules, {\n                increment: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(InformationBox, {\n            children: /*#__PURE__*/_jsxDEV(Contact, {\n              increment: true,\n              flexStart: true,\n              buttonProps: {\n                variant: 'text',\n                type: 'button',\n                className: 'addButton'\n              },\n              icon: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(InformationBox, {\n            className: \"paymentBox\",\n            style: {\n              paddingBottom: 30\n            },\n            children: [/*#__PURE__*/_jsxDEV(Payment, {\n              increment: true,\n              deviceType: deviceType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, _this), coupon ? /*#__PURE__*/_jsxDEV(CouponBoxWrapper, {\n              children: /*#__PURE__*/_jsxDEV(CouponCode, {\n                children: [/*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"couponApplied\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: coupon.code\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(RemoveCoupon, {\n                  onClick: function onClick(e) {\n                    e.preventDefault();\n                    removeCoupon();\n                    setHasCoupon(false);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                    id: \"removeCoupon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, _this) : /*#__PURE__*/_jsxDEV(CouponBoxWrapper, {\n              children: !hasCoupon ? /*#__PURE__*/_jsxDEV(HaveCoupon, {\n                onClick: function onClick() {\n                  return setHasCoupon(function (prev) {\n                    return !prev;\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"specialCode\",\n                  defaultMessage: \"Have a special code?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 23\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 21\n              }, _this) : /*#__PURE__*/_jsxDEV(CouponInputBox, {\n                children: /*#__PURE__*/_jsxDEV(Coupon, {\n                  errorMsgFixed: true,\n                  className: \"normalCoupon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 23\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 21\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(TermConditionText, {\n              children: [/*#__PURE__*/_jsxDEV(FormattedMessage, {\n                id: \"termAndConditionHelper\",\n                defaultMessage: \"By making this purchase you agree to our\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Link, {\n                href: \"#\",\n                children: /*#__PURE__*/_jsxDEV(TermConditionLink, {\n                  children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                    id: \"termAndCondition\",\n                    defaultMessage: \"terms and conditions.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(CheckoutSubmit, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                onClick: handleSubmit,\n                disabled: !isValid,\n                size: \"big\",\n                loading: loading,\n                style: {\n                  width: '100%'\n                },\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"processCheckout\",\n                  defaultMessage: \"Proceed to Checkout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(CartWrapper, {\n          children: /*#__PURE__*/_jsxDEV(Sticky, {\n            enabled: size.width >= 768 ? true : false,\n            top: 120,\n            innerZ: 999,\n            children: /*#__PURE__*/_jsxDEV(OrderInfo, {\n              children: [/*#__PURE__*/_jsxDEV(Title, {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"cartTitle\",\n                  defaultMessage: \"Su Pedido\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Scrollbar, {\n                className: \"checkout-scrollbar\",\n                children: /*#__PURE__*/_jsxDEV(ItemsWrapper, {\n                  children: cartItemsCount > 0 ? items.map(function (item) {\n                    return /*#__PURE__*/_jsxDEV(OrderItem, {\n                      product: item\n                    }, \"cartItem-\".concat(item.id), false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 25\n                    }, _this);\n                  }) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(NoProductImg, {\n                      children: /*#__PURE__*/_jsxDEV(NoCartBag, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 27\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(NoProductMsg, {\n                      children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                        id: \"noProductFound\",\n                        defaultMessage: \"No products found\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 27\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 25\n                    }, _this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(CalculationWrapper, {\n                children: [/*#__PURE__*/_jsxDEV(TextWrapper, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"subTotal\",\n                      defaultMessage: \"Subtotal\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(Text, {\n                    children: [CURRENCY, calculateSubTotalPrice()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(TextWrapper, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"intlOrderDetailsDelivery\",\n                      defaultMessage: \"Delivery Fee\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(Text, {\n                    children: [CURRENCY, \"0\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(TextWrapper, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"discountText\",\n                      defaultMessage: \"Discount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(Text, {\n                    children: [CURRENCY, calculateDiscount()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(TextWrapper, {\n                  style: {\n                    marginTop: 20\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Bold, {\n                    children: [/*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"totalText\",\n                      defaultMessage: \"Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 23\n                    }, _this), ' ', /*#__PURE__*/_jsxDEV(Small, {\n                      children: [\"(\", /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                        id: \"vatText\",\n                        defaultMessage: \"Incl. VAT\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 333,\n                        columnNumber: 25\n                      }, _this), \")\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 23\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(Bold, {\n                    children: [CURRENCY, calculatePrice()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 18\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(CheckoutWithSidebar, \"MNdme34fhECJvnvgxzG6ol7PjK4=\", false, function () {\n  return [useLocale, useCart, useWindowSize];\n});\n\n_c2 = CheckoutWithSidebar;\nexport default CheckoutWithSidebar;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"OrderItem\");\n$RefreshReg$(_c2, \"CheckoutWithSidebar\");","map":{"version":3,"sources":["/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/features/checkouts/checkout-two/checkout-two.tsx"],"names":["React","useContext","useState","useEffect","Router","Link","Button","CURRENCY","Scrollbar","CheckoutWrapper","CheckoutContainer","CheckoutInformation","InformationBox","DeliverySchedule","CheckoutSubmit","HaveCoupon","CouponBoxWrapper","CouponInputBox","CouponCode","RemoveCoupon","TermConditionText","TermConditionLink","CartWrapper","CalculationWrapper","OrderInfo","Title","ItemsWrapper","Items","Quantity","Multiplier","ItemInfo","Price","TextWrapper","Text","Bold","Small","NoProductMsg","NoProductImg","NoCartBag","Sticky","ProfileContext","FormattedMessage","useCart","useLocale","useWindowSize","Coupon","Address","Schedules","Contact","Payment","OrderItem","product","id","quantity","title","nombre","unit","precio","precio_venta","displayPrice","toFixed","CheckoutWithSidebar","token","deviceType","hasCoupon","setHasCoupon","state","isRtl","items","removeCoupon","coupon","clearCart","cartItemsCount","calculatePrice","calculateDiscount","calculateSubTotalPrice","isRestaurant","toggleRestaurant","loading","setLoading","isValid","setIsValid","address","contact","card","schedules","size","handleSubmit","push","variant","type","className","paddingBottom","code","e","preventDefault","prev","width","map","item","marginTop"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport { Button } from 'components/button/button';\nimport { CURRENCY } from 'utils/constant';\nimport { Scrollbar } from 'components/scrollbar/scrollbar';\nimport CheckoutWrapper, {\n  CheckoutContainer,\n  CheckoutInformation,\n  InformationBox,\n  DeliverySchedule,\n  CheckoutSubmit,\n  HaveCoupon,\n  CouponBoxWrapper,\n  CouponInputBox,\n  CouponCode,\n  RemoveCoupon,\n  TermConditionText,\n  TermConditionLink,\n  CartWrapper,\n  CalculationWrapper,\n  OrderInfo,\n  Title,\n  ItemsWrapper,\n  Items,\n  Quantity,\n  Multiplier,\n  ItemInfo,\n  Price,\n  TextWrapper,\n  Text,\n  Bold,\n  Small,\n  NoProductMsg,\n  NoProductImg,\n} from './checkout-two.style';\n\nimport { NoCartBag } from 'assets/icons/NoCartBag';\n\nimport Sticky from 'react-stickynode';\nimport { ProfileContext } from 'contexts/profile/profile.context';\nimport { FormattedMessage } from 'react-intl';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { useLocale } from 'contexts/language/language.provider';\nimport { useWindowSize } from 'utils/useWindowSize';\nimport Coupon from 'features/coupon/coupon';\nimport Address from 'features/address/address';\nimport Schedules from 'features/schedule/schedule';\nimport Contact from 'features/contact/contact';\nimport Payment from 'features/payment/payment';\n\n// The type of props Checkout Form receives\ninterface MyFormProps {\n  token: string;\n  deviceType: any;\n}\n\ntype CartItemProps = {\n  product: any;\n};\n\nconst OrderItem: React.FC<CartItemProps> = ({ product }) => {\n  const { id, quantity, title, nombre, unit, precio, precio_venta } = product;\n  const displayPrice = precio_venta ? precio_venta : precio;\n  return (\n    <Items key={id}>\n      <Quantity>{quantity}</Quantity>\n      <Multiplier>x</Multiplier>\n      <ItemInfo>\n        {nombre ? nombre : title} {unit ? `| ${unit}` : ''}\n      </ItemInfo>\n      <Price>\n        {CURRENCY}\n        {(displayPrice * quantity).toFixed(0)}\n      </Price>\n    </Items>\n  );\n};\n\nconst CheckoutWithSidebar: React.FC<MyFormProps> = ({ token, deviceType }) => {\n  const [hasCoupon, setHasCoupon] = useState(false);\n  const { state } = useContext(ProfileContext);\n  const { isRtl } = useLocale();\n  const {\n    items,\n    removeCoupon,\n    coupon,\n    clearCart,\n    cartItemsCount,\n    calculatePrice,\n    calculateDiscount,\n    calculateSubTotalPrice,\n    isRestaurant,\n    toggleRestaurant,\n  } = useCart();\n  const [loading, setLoading] = useState(false);\n  const [isValid, setIsValid] = useState(false);\n  const { address, contact, card, schedules } = state;\n  const size = useWindowSize();\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    if (isValid) {\n      clearCart();\n      Router.push('/order-received');\n    }\n    setLoading(false);\n  };\n\n\n  useEffect(() => {\n  /*   if (\n      calculatePrice() > 0 &&\n      cartItemsCount > 0 &&\n      address.length &&\n      contact.length &&\n      card.length &&\n      schedules.length\n    ) { */\n      setIsValid(true);\n    /* } */\n  }, [state]);\n  useEffect(() => {\n    return () => {\n      if (isRestaurant) {\n        toggleRestaurant();\n        clearCart();\n      }\n    };\n  }, []);\n\n  return (\n    \n    <form>\n      <br/>\n      <br/>\n      <br/>\n      <CheckoutWrapper>\n        <CheckoutContainer>\n          <CheckoutInformation>\n             \n            <InformationBox>\n              <Address\n                increment={true}\n                flexStart={true}\n                buttonProps={{\n                  variant: 'text',\n                  type: 'button',\n                  className: 'addButton',\n                }}\n                icon={true}\n              />\n            </InformationBox>\n              \n            \n            <InformationBox>\n              <DeliverySchedule>\n                <Schedules increment={true} />\n              </DeliverySchedule>\n            </InformationBox>\n\n         \n            <InformationBox>\n              <Contact\n                increment={true}\n                flexStart={true}\n                buttonProps={{\n                  variant: 'text',\n                  type: 'button',\n                  className: 'addButton',\n                }}\n                icon={true}\n              />\n            </InformationBox>\n           \n \n            <InformationBox\n              className='paymentBox'\n              style={{ paddingBottom: 30 }}\n            >\n                \n              <Payment increment={true} deviceType={deviceType} />\n\n              \n              {coupon ? (\n                <CouponBoxWrapper>\n                  <CouponCode>\n                    <FormattedMessage id='couponApplied' />\n                    <span>{coupon.code}</span>\n\n                    <RemoveCoupon\n                      onClick={(e) => {\n                        e.preventDefault();\n                        removeCoupon();\n                        setHasCoupon(false);\n                      }}\n                    >\n                      <FormattedMessage id='removeCoupon' />\n                    </RemoveCoupon>\n                  </CouponCode>\n                </CouponBoxWrapper>\n              ) : (\n                <CouponBoxWrapper>\n                  {!hasCoupon ? (\n                    <HaveCoupon onClick={() => setHasCoupon((prev) => !prev)}>\n                      <FormattedMessage\n                        id='specialCode'\n                        defaultMessage='Have a special code?'\n                      />\n                    </HaveCoupon>\n                  ) : (\n                    <CouponInputBox>\n                      <Coupon errorMsgFixed={true} className='normalCoupon' />\n                    </CouponInputBox>\n                  )}\n                </CouponBoxWrapper>\n              )}\n         \n\n              <TermConditionText>\n                <FormattedMessage\n                  id='termAndConditionHelper'\n                  defaultMessage='By making this purchase you agree to our'\n                />\n                <Link href='#'>\n                  <TermConditionLink>\n                    <FormattedMessage\n                      id='termAndCondition'\n                      defaultMessage='terms and conditions.'\n                    />\n                  </TermConditionLink>\n                </Link>\n              </TermConditionText>\n           \n            \n              <CheckoutSubmit>\n                <Button\n                  type='button'\n                  onClick={handleSubmit}\n                  disabled={!isValid}\n                  size='big'\n                  loading={loading}\n                  style={{ width: '100%' }}\n                >\n                  <FormattedMessage\n                    id='processCheckout'\n                    defaultMessage='Proceed to Checkout'\n                  />\n                </Button>\n              </CheckoutSubmit>\n            </InformationBox>\n          </CheckoutInformation> \n\n          <CartWrapper>\n            <Sticky\n              enabled={size.width >= 768 ? true : false}\n              top={120}\n              innerZ={999}\n            >\n              <OrderInfo>\n                <Title>\n                  <FormattedMessage\n                    id='cartTitle'\n                    defaultMessage='Su Pedido'\n                  />\n                </Title>\n\n                <Scrollbar className='checkout-scrollbar'>\n                  <ItemsWrapper>\n                    {cartItemsCount > 0 ? (\n                      items.map((item) => (\n                        <OrderItem key={`cartItem-${item.id}`} product={item} />\n                      ))\n                    ) : (\n                      <>\n                        <NoProductImg>\n                          <NoCartBag />\n                        </NoProductImg>\n\n                        <NoProductMsg>\n                          <FormattedMessage\n                            id='noProductFound'\n                            defaultMessage='No products found'\n                          />\n                        </NoProductMsg>\n                      </>\n                    )}\n                  </ItemsWrapper>\n                </Scrollbar>\n\n                 <CalculationWrapper>\n                  <TextWrapper>\n                    <Text>\n                      <FormattedMessage\n                        id='subTotal'\n                        defaultMessage='Subtotal'\n                      />\n                    </Text>\n                    <Text>\n                      {CURRENCY}\n                      {calculateSubTotalPrice()}\n                    </Text>\n                  </TextWrapper>\n\n                  <TextWrapper>\n                    <Text>\n                      <FormattedMessage\n                        id='intlOrderDetailsDelivery'\n                        defaultMessage='Delivery Fee'\n                      />\n                    </Text>\n                    <Text>{CURRENCY}0</Text>\n                  </TextWrapper>\n\n                  <TextWrapper>\n                    <Text>\n                      <FormattedMessage\n                        id='discountText'\n                        defaultMessage='Discount'\n                      />\n                    </Text>\n                    <Text>\n                      {CURRENCY}\n                      {calculateDiscount()}\n                    </Text>\n                  </TextWrapper>\n\n                  <TextWrapper style={{ marginTop: 20 }}>\n                    <Bold>\n                      <FormattedMessage id='totalText' defaultMessage='Total' />{' '}\n                      <Small>\n                        (\n                        <FormattedMessage\n                          id='vatText'\n                          defaultMessage='Incl. VAT'\n                        />\n                        )\n                      </Small>\n                    </Bold>\n                    <Bold>\n                      {CURRENCY}\n                      {calculatePrice()}\n                    </Bold>\n                  </TextWrapper>\n                </CalculationWrapper> \n              </OrderInfo>\n            </Sticky>\n          </CartWrapper>\n        </CheckoutContainer>\n      </CheckoutWrapper>\n    </form>\n  );\n};\n\nexport default CheckoutWithSidebar;\n"]},"metadata":{},"sourceType":"module"}