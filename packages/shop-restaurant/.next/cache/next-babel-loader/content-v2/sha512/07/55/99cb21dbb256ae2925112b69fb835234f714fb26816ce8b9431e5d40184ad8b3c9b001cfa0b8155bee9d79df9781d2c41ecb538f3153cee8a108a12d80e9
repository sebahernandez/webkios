{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/alejandrosandoval/space/world_eserp/web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/alejandrosandoval/space/world_eserp/web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/alejandrosandoval/space/world_eserp/web/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/features/authentication-form/register.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport Link from 'next/link';\nimport { Input } from 'components/forms/input';\nimport { Button, IconWrapper, Wrapper, Container, Heading, SubHeading, HelperText, Offer // Input,\n, Divider, LinkButton } from './authentication-form.style';\nimport { Facebook } from 'assets/icons/facebook';\nimport { Google } from 'assets/icons/google';\nimport { AuthContext } from 'contexts/auth/auth.context';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { GET_CLIENTE_USERNAME } from '../../utils/graphql/query/clients.query';\nimport { ADD_CLIENTE } from '../../utils/graphql/mutation/register_client';\nexport default function SignOutModal(_ref) {\n  _s();\n\n  var cid = _ref.cid;\n  var intl = useIntl();\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      email = _React$useState2[0],\n      setEmail = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      password = _React$useState4[0],\n      setPassword = _React$useState4[1];\n\n  var _useContext = useContext(AuthContext),\n      authDispatch = _useContext.authDispatch;\n\n  var _useMutation = useMutation(ADD_CLIENTE),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      addCliente = _useMutation2[0],\n      error = _useMutation2[1];\n\n  var _useQuery = useQuery(GET_CLIENTE_USERNAME, {\n    variables: {\n      clientid: cid,\n      username: email\n    }\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading;\n\n  var toggleSignInForm = function toggleSignInForm() {\n    authDispatch({\n      type: 'SIGNIN'\n    });\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(data);\n\n              if (!(data && data.cliente.length > 0)) {\n                _context.next = 5;\n                break;\n              }\n\n              console.log('usuario YA existe');\n              _context.next = 9;\n              break;\n\n            case 5:\n              console.log('usuario NO existe');\n              _context.next = 8;\n              return addCliente({\n                variables: {\n                  password: password,\n                  username: email,\n                  clientid: cid\n                }\n              });\n\n            case 8:\n              if (error) {\n                console.log('hubo un error', error);\n              } else {\n                alert('grabo exitosamente');\n                authDispatch({\n                  type: 'SIGNIN'\n                });\n              }\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: \"signUpBtnText\",\n          defaultMessage: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SubHeading, {\n        children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: \"signUpText\",\n          defaultMessage: \"Every fill is required in sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        placeholder: intl.formatMessage({\n          id: 'emailAddressPlaceholder',\n          defaultMessage: 'Dirección de correo electrónico o Teléfono de contacto'\n        }),\n        onChange: function onChange(e) {\n          return setEmail(e.target.value);\n        },\n        required: true,\n        height: \"48px\",\n        backgroundColor: \"#F7F7F7\",\n        mb: \"10px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        placeholder: intl.formatMessage({\n          id: 'passwordPlaceholder',\n          defaultMessage: 'Password (min 6 characters)'\n        }),\n        onChange: function onChange(e) {\n          return setPassword(e.target.value);\n        },\n        required: true,\n        height: \"48px\",\n        backgroundColor: \"#F7F7F7\",\n        mb: \"10px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HelperText, {\n        style: {\n          padding: '20px 0 30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: \"signUpText\",\n          defaultMessage: \"By signing up, you agree to Pickbazar's\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n              id: \"termsConditionText\",\n              defaultMessage: \"Terms & Condition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        size: \"big\",\n        width: \"100%\",\n        onClick: handleSubmit,\n        type: \"submit\",\n        children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: \"continueBtn\",\n          defaultMessage: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n            id: \"orText\",\n            defaultMessage: \"or\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        size: \"big\",\n        style: {\n          width: '100%',\n          backgroundColor: '#4267b2',\n          marginBottom: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(IconWrapper, {\n          children: /*#__PURE__*/_jsxDEV(Facebook, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: \"continueFacebookBtn\",\n          defaultMessage: \"Continue with Facebook\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        size: \"big\",\n        style: {\n          width: '100%',\n          backgroundColor: '#4285f4'\n        },\n        children: [/*#__PURE__*/_jsxDEV(IconWrapper, {\n          children: /*#__PURE__*/_jsxDEV(Google, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: \"continueGoogleBtn\",\n          defaultMessage: \"Continue with Google\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Offer, {\n        style: {\n          padding: '20px 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: \"alreadyHaveAccount\",\n          defaultMessage: \"Already have an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), ' ', /*#__PURE__*/_jsxDEV(LinkButton, {\n          onClick: toggleSignInForm,\n          children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n            id: \"loginBtnText\",\n            defaultMessage: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignOutModal, \"50ODNwMKZEyDnNpS4DE81GFeHUI=\", false, function () {\n  return [useIntl, useMutation, useQuery];\n});\n\n_c = SignOutModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignOutModal\");","map":{"version":3,"sources":["/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/features/authentication-form/register.tsx"],"names":["React","useContext","Link","Input","Button","IconWrapper","Wrapper","Container","Heading","SubHeading","HelperText","Offer","Divider","LinkButton","Facebook","Google","AuthContext","FormattedMessage","useIntl","useQuery","useMutation","GET_CLIENTE_USERNAME","ADD_CLIENTE","SignOutModal","cid","intl","useState","email","setEmail","password","setPassword","authDispatch","addCliente","error","variables","clientid","username","data","loading","toggleSignInForm","type","handleSubmit","console","log","cliente","length","alert","formatMessage","id","defaultMessage","e","target","value","padding","width","backgroundColor","marginBottom"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport Link from 'next/link';\nimport { Input } from 'components/forms/input';\nimport { gql } from '@apollo/client';\nimport {\n  Button,\n  IconWrapper,\n  Wrapper,\n  Container,\n  LogoWrapper,\n  Heading,\n  SubHeading,\n  HelperText,\n  Offer,\n  // Input,\n  Divider,\n  LinkButton,\n} from './authentication-form.style';\nimport { Facebook } from 'assets/icons/facebook';\nimport { Google } from 'assets/icons/google';\nimport { AuthContext } from 'contexts/auth/auth.context';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useQuery,useMutation, NetworkStatus } from '@apollo/client';\nimport { GET_CLIENTE_USERNAME } from '../../utils/graphql/query/clients.query';\nimport { ADD_CLIENTE } from '../../utils/graphql/mutation/register_client';\n\n\nexport default function SignOutModal({cid}) {\n  const intl = useIntl();\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const { authDispatch } = useContext<any>(AuthContext);\n  const [addCliente,error] = useMutation(ADD_CLIENTE );\n  const { data, loading } =  useQuery(\n    GET_CLIENTE_USERNAME,\n    {\n      variables: {\n        clientid: cid,\n        username: email\n      } \n    }\n  );\n\n  const toggleSignInForm = () => {\n    authDispatch({\n      type: 'SIGNIN',\n    });\n  };\n\n  const handleSubmit = async () => {\n    \n    console.log(data)\n    if(data && data.cliente.length > 0){\n      console.log('usuario YA existe')\n    }else {\n      console.log('usuario NO existe')\n      await addCliente({\n        variables: {\n                  password: password, \n                  username: email, \n                  clientid: cid\n                }\n      });\n      if(error){\n        console.log('hubo un error', error)\n      }else{\n        alert('grabo exitosamente')\n        authDispatch({\n          type: 'SIGNIN',\n        });\n      }\n\n    } \n    \n\n\n\n  }\n\n  return (\n    <Wrapper>\n      <Container>\n        <Heading>\n          <FormattedMessage id='signUpBtnText' defaultMessage='Sign Up' />\n        </Heading>\n        <SubHeading>\n          <FormattedMessage\n            id='signUpText'\n            defaultMessage='Every fill is required in sign up'\n          />\n        </SubHeading>\n      \n         {/*  ingreso de direccion */}\n        <Input\n          type='email'\n          placeholder={intl.formatMessage({\n            id: 'emailAddressPlaceholder',\n            defaultMessage: 'Dirección de correo electrónico o Teléfono de contacto',\n          })}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n          height='48px'\n          backgroundColor='#F7F7F7'\n          mb='10px'\n        />\n         {/*  ingreso de password */}\n        <Input\n          type='password'\n          placeholder={intl.formatMessage({\n            id: 'passwordPlaceholder',\n            defaultMessage: 'Password (min 6 characters)',\n          })}\n          onChange={(e) => setPassword(e.target.value)}\n          required        \n          height='48px'\n          backgroundColor='#F7F7F7'\n          mb='10px'\n        />\n        <HelperText style={{ padding: '20px 0 30px' }}>\n          <FormattedMessage\n            id='signUpText'\n            defaultMessage=\"By signing up, you agree to Pickbazar's\"\n          />\n          &nbsp;\n          <Link href='/'>\n            <a>\n              <FormattedMessage\n                id='termsConditionText'\n                defaultMessage='Terms &amp; Condition'\n              />\n            </a>\n          </Link>\n        </HelperText>\n        <Button variant='primary' size='big' width='100%'  onClick={handleSubmit} type='submit'>\n          <FormattedMessage id='continueBtn' defaultMessage='Continue' />\n        </Button>\n        <Divider>\n          <span>\n            <FormattedMessage id='orText' defaultMessage='or' />\n          </span>\n        </Divider>\n        <Button\n          variant='primary'\n          size='big'\n          style={{\n            width: '100%',\n            backgroundColor: '#4267b2',\n            marginBottom: 10,\n          }}\n        >\n          <IconWrapper>\n            <Facebook />\n          </IconWrapper>\n          <FormattedMessage\n            id='continueFacebookBtn'\n            defaultMessage='Continue with Facebook'\n          />\n        </Button>\n        <Button\n          variant='primary'\n          size='big'\n          style={{ width: '100%', backgroundColor: '#4285f4' }}\n        >\n          <IconWrapper>\n            <Google />\n          </IconWrapper>\n          <FormattedMessage\n            id='continueGoogleBtn'\n            defaultMessage='Continue with Google'\n          />\n        </Button>\n        <Offer style={{ padding: '20px 0' }}>\n          <FormattedMessage\n            id='alreadyHaveAccount'\n            defaultMessage='Already have an account?'\n          />{' '}\n          <LinkButton onClick={toggleSignInForm}>\n            <FormattedMessage id='loginBtnText' defaultMessage='Login' />\n          </LinkButton>\n        </Offer>\n      </Container>\n    </Wrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}