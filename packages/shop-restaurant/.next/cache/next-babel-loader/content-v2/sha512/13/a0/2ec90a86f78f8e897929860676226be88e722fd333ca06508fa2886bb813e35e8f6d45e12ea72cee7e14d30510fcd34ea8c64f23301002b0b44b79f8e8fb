{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { CartPopupBody, PopupHeader, PopupItemCount, CloseButton, PromoCode, CheckoutButtonWrapper, CheckoutButton, Title, PriceBox, NoProductMsg, NoProductImg, ItemWrapper, CouponBoxWrapper, CouponCode } from './cart.style';\nimport { CloseIcon } from 'assets/icons/CloseIcon';\nimport { ShoppingBagLarge } from 'assets/icons/ShoppingBagLarge';\nimport { NoCartBag } from 'assets/icons/NoCartBag';\nimport { CURRENCY } from 'utils/constant';\nimport { FormattedMessage } from 'react-intl';\nimport { useLocale } from 'contexts/language/language.provider';\nimport { Scrollbar } from 'components/scrollbar/scrollbar';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { CartItem } from 'components/cart-item/cart-item';\nimport Coupon from 'features/coupon/coupon';\n\nconst Cart = ({\n  style,\n  className,\n  onCloseBtnClick,\n  scrollbarHeight\n}) => {\n  const {\n    items,\n    coupon,\n    addItem,\n    removeItem,\n    removeItemFromCart,\n    cartItemsCount,\n    calculatePrice\n  } = useCart();\n  const {\n    0: hasCoupon,\n    1: setCoupon\n  } = useState(false);\n  const {\n    isRtl\n  } = useLocale();\n  return /*#__PURE__*/_jsxs(CartPopupBody, {\n    className: className,\n    style: style,\n    children: [/*#__PURE__*/_jsxs(PopupHeader, {\n      children: [/*#__PURE__*/_jsxs(PopupItemCount, {\n        children: [/*#__PURE__*/_jsx(ShoppingBagLarge, {\n          width: \"19px\",\n          height: \"24px\"\n        }), /*#__PURE__*/_jsxs(\"span\", {\n          children: [cartItemsCount, \"\\xA0\", cartItemsCount > 1 ? /*#__PURE__*/_jsx(FormattedMessage, {\n            id: \"cartItems\",\n            defaultMessage: \"items\"\n          }) : /*#__PURE__*/_jsx(FormattedMessage, {\n            id: \"cartItem\",\n            defaultMessage: \"item\"\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(CloseButton, {\n        onClick: onCloseBtnClick,\n        children: /*#__PURE__*/_jsx(CloseIcon, {})\n      })]\n    }), /*#__PURE__*/_jsx(Scrollbar, {\n      className: \"cart-scrollbar\",\n      children: /*#__PURE__*/_jsx(ItemWrapper, {\n        className: \"items-wrapper\",\n        children: !!cartItemsCount ? items.map(item => /*#__PURE__*/_jsx(CartItem, {\n          onIncrement: () => addItem(item),\n          onDecrement: () => removeItem(item),\n          onRemove: () => removeItemFromCart(item),\n          data: item\n        }, `cartItem-${item.id}`)) : /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsx(NoProductImg, {\n            children: /*#__PURE__*/_jsx(NoCartBag, {})\n          }), /*#__PURE__*/_jsx(NoProductMsg, {\n            children: /*#__PURE__*/_jsx(FormattedMessage, {\n              id: \"noProductFound\",\n              defaultMessage: \"No products found\"\n            })\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsxs(CheckoutButtonWrapper, {\n      children: [/*#__PURE__*/_jsx(PromoCode, {\n        children: !(coupon !== null && coupon !== void 0 && coupon.discountInPercent) ? /*#__PURE__*/_jsx(_Fragment, {\n          children: !hasCoupon ? /*#__PURE__*/_jsx(\"button\", {\n            onClick: () => setCoupon(prev => !prev),\n            children: /*#__PURE__*/_jsx(FormattedMessage, {\n              id: \"specialCode\",\n              defaultMessage: \"Have a special code?\"\n            })\n          }) : /*#__PURE__*/_jsx(CouponBoxWrapper, {\n            children: /*#__PURE__*/_jsx(Coupon, {\n              disabled: !items.length,\n              style: {\n                boxShadow: '0 3px 6px rgba(0, 0, 0, 0.06)'\n              }\n            })\n          })\n        }) : /*#__PURE__*/_jsxs(CouponCode, {\n          children: [/*#__PURE__*/_jsx(FormattedMessage, {\n            id: \"couponApplied\",\n            defaultMessage: \"Coupon Applied\"\n          }), /*#__PURE__*/_jsx(\"span\", {\n            children: coupon.code\n          })]\n        })\n      }), cartItemsCount !== 0 ? /*#__PURE__*/_jsx(Link, {\n        href: \"/checkout\",\n        children: /*#__PURE__*/_jsx(CheckoutButton, {\n          onClick: onCloseBtnClick,\n          children: /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(Title, {\n              children: /*#__PURE__*/_jsx(FormattedMessage, {\n                id: \"nav.checkout\",\n                defaultMessage: \"Checkout\"\n              })\n            }), /*#__PURE__*/_jsxs(PriceBox, {\n              children: [CURRENCY, calculatePrice()]\n            })]\n          })\n        })\n      }) : /*#__PURE__*/_jsx(CheckoutButton, {\n        children: /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsx(Title, {\n            children: /*#__PURE__*/_jsx(FormattedMessage, {\n              id: \"nav.checkout\",\n              defaultMessage: \"Checkout\"\n            })\n          }), /*#__PURE__*/_jsxs(PriceBox, {\n            children: [CURRENCY, calculatePrice()]\n          })]\n        })\n      })]\n    })]\n  });\n};\n\nexport default Cart;","map":null,"metadata":{},"sourceType":"module"}