{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/pages/_app.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport dynamic from \"next/dynamic\";\nimport { ThemeProvider } from \"styled-components\";\nimport { defaultTheme } from \"site-settings/site-theme/default\";\nimport { AppProvider } from \"contexts/app/app.provider\";\nimport { AuthProvider } from \"contexts/auth/auth.provider\";\nimport { LanguageProvider } from \"contexts/language/language.provider\";\nimport { CartProvider } from \"contexts/cart/use-cart\";\nimport { useApollo } from \"utils/apollo\";\nimport { useMedia } from \"utils/use-media\";\nimport { ApolloProvider, useQuery } from '@apollo/client'; // External CSS import here\n\nimport \"rc-drawer/assets/index.css\";\nimport \"rc-table/assets/index.css\";\nimport \"rc-collapse/assets/index.css\";\nimport \"react-multi-carousel/lib/styles.css\";\nimport \"components/multi-carousel/multi-carousel.style.css\";\nimport \"react-spring-modal/dist/index.css\";\nimport \"overlayscrollbars/css/OverlayScrollbars.css\";\nimport \"components/scrollbar/scrollbar.css\";\nimport \"@redq/reuse-modal/lib/index.css\";\nimport \"swiper/swiper-bundle.min.css\";\nimport { GlobalStyle } from \"assets/styles/global.style\"; // Language translation messages\n\nimport { messages } from \"site-settings/site-translation/messages\";\nimport \"typeface-lato\";\nimport \"typeface-poppins\";\nimport { GET_SUSCRIPCION_X_HOST } from 'utils/graphql/query/suscripcion.query';\nimport Cookies from 'universal-cookie';\nimport { useEffect, useState } from \"react\"; // need to provide types\n\nconst DemoSwitcher = dynamic(() => import(\"components/demo-switcher/switcher-btn\"), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"components/demo-switcher/switcher-btn\")],\n    modules: [\"_app.tsx -> \" + \"components/demo-switcher/switcher-btn\"]\n  }\n});\nconst cookie = new Cookies();\nconst AppLayout = dynamic(() => import(\"layouts/app-layout\"), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"layouts/app-layout\")],\n    modules: [\"_app.tsx -> \" + \"layouts/app-layout\"]\n  }\n});\nexport default function ExtendedApp({\n  Component,\n  pageProps\n}) {\n  const {\n    0: host,\n    1: setHost\n  } = useState('');\n  const {\n    0: cid,\n    1: setCid\n  } = useState('');\n  const mobile = useMedia(\"(max-width: 580px)\");\n  const tablet = useMedia(\"(max-width: 991px)\");\n  const desktop = useMedia(\"(min-width: 992px)\");\n  const apolloClient = useApollo(pageProps.initialApolloState);\n  var {\n    data: data2\n  } = useQuery(GET_SUSCRIPCION_X_HOST, {\n    variables: {\n      host: host\n    }\n  });\n  useEffect(() => {\n    if (window) {\n      setHost(\"%\".concat(window.location.hostname).concat(\"%\"));\n    }\n\n    if (host) {\n      if (data2 && data2.suscripciones.length > 0) {\n        cookie.set('cid', data2.suscripciones[0].clientid);\n        setCid(data2.suscripciones[0].clientid);\n      }\n    }\n\n    if (query.text || query.category) {\n      scroll();\n    }\n  }, [query.text, query.category]);\n  return /*#__PURE__*/_jsxDEV(ApolloProvider, {\n    client: apolloClient,\n    children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: defaultTheme,\n      children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LanguageProvider, {\n        messages: messages,\n        children: /*#__PURE__*/_jsxDEV(CartProvider, {\n          children: /*#__PURE__*/_jsxDEV(AppProvider, {\n            children: /*#__PURE__*/_jsxDEV(AuthProvider, {\n              children: /*#__PURE__*/_jsxDEV(AppLayout, {\n                children: /*#__PURE__*/_jsxDEV(Component, _objectSpread(_objectSpread({}, pageProps), {}, {\n                  deviceType: {\n                    mobile,\n                    tablet,\n                    desktop\n                  }\n                }), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/pages/_app.tsx"],"names":["dynamic","ThemeProvider","defaultTheme","AppProvider","AuthProvider","LanguageProvider","CartProvider","useApollo","useMedia","ApolloProvider","useQuery","GlobalStyle","messages","GET_SUSCRIPCION_X_HOST","Cookies","useEffect","useState","DemoSwitcher","cookie","AppLayout","ExtendedApp","Component","pageProps","host","setHost","cid","setCid","mobile","tablet","desktop","apolloClient","initialApolloState","data","data2","variables","window","concat","location","hostname","suscripciones","length","set","clientid","query","text","category","scroll"],"mappings":"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","sourcesContent":["import dynamic from \"next/dynamic\";\nimport { ThemeProvider } from \"styled-components\";\nimport { defaultTheme } from \"site-settings/site-theme/default\";\nimport { AppProvider } from \"contexts/app/app.provider\";\nimport { AuthProvider } from \"contexts/auth/auth.provider\";\nimport { LanguageProvider } from \"contexts/language/language.provider\";\nimport { CartProvider } from \"contexts/cart/use-cart\";\nimport { useApollo } from \"utils/apollo\";\nimport { useMedia } from \"utils/use-media\";\nimport { ApolloClient, ApolloProvider, InMemoryCache, HttpLink, useQuery } from '@apollo/client';\n\n// External CSS import here\nimport \"rc-drawer/assets/index.css\";\nimport \"rc-table/assets/index.css\";\nimport \"rc-collapse/assets/index.css\";\nimport \"react-multi-carousel/lib/styles.css\";\nimport \"components/multi-carousel/multi-carousel.style.css\";\nimport \"react-spring-modal/dist/index.css\";\nimport \"overlayscrollbars/css/OverlayScrollbars.css\";\nimport \"components/scrollbar/scrollbar.css\";\nimport \"@redq/reuse-modal/lib/index.css\";\nimport \"swiper/swiper-bundle.min.css\";\nimport { GlobalStyle } from \"assets/styles/global.style\"; \n// Language translation messages\nimport { messages } from \"site-settings/site-translation/messages\";\nimport \"typeface-lato\";\nimport \"typeface-poppins\";\nimport { GET_SUSCRIPCION_X_HOST } from 'utils/graphql/query/suscripcion.query'; \nimport Cookies  from 'universal-cookie'; \nimport { useEffect, useState } from \"react\";\n\n// need to provide types\nconst DemoSwitcher = dynamic(\n  () => import(\"components/demo-switcher/switcher-btn\")\n);\n\nconst cookie = new Cookies()\nconst AppLayout = dynamic(() => import(\"layouts/app-layout\"));\n\nexport default function ExtendedApp({ Component, pageProps }) {\n  const [host, setHost] = useState('')\n  const [cid, setCid] = useState('')\n  const mobile = useMedia(\"(max-width: 580px)\");\n  const tablet = useMedia(\"(max-width: 991px)\");\n  const desktop = useMedia(\"(min-width: 992px)\");\n  const apolloClient = useApollo(pageProps.initialApolloState);\n  \n\n \n  var { data:data2 } = useQuery(GET_SUSCRIPCION_X_HOST,\n    {\n        variables: {\n          host: host\n        }\n  }); \n\n\n   useEffect(() => {\n    \n    if(window) {\n      \n      setHost(\"%\".concat(window.location.hostname).concat(\"%\"))\n     \n    }  \n   \n    if(host){  \n      if(data2 && data2.suscripciones.length > 0) {  \n        cookie.set('cid',data2.suscripciones[0].clientid)  \n        setCid(data2.suscripciones[0].clientid)\n      } \n    }\n\n\n   \n    if (query.text || query.category) {\n      scroll();\n    }\n  }, [query.text, query.category]);\n\n\n  \n  return (\n    <ApolloProvider client={apolloClient}>\n      <ThemeProvider theme={defaultTheme}>\n        <GlobalStyle />\n        <LanguageProvider messages={messages}>\n          <CartProvider>\n            <AppProvider>\n              <AuthProvider>\n                <AppLayout>\n                  <Component\n                    {...pageProps}\n                    deviceType={{ mobile, tablet, desktop }}\n                  />\n               {/*    <DemoSwitcher /> */}\n                </AppLayout>\n              </AuthProvider>\n            </AppProvider>\n          </CartProvider>\n        </LanguageProvider>\n      </ThemeProvider>\n    </ApolloProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}