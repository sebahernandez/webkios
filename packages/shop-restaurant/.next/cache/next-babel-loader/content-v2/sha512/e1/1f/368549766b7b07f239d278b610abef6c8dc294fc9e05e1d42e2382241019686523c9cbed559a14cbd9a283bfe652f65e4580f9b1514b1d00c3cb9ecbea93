{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/components/tree-menu/tree-menu.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { usePrevious, useMeasure } from 'utils/hooks';\nimport { useSpring, animated } from 'react-spring';\nimport { Frame, Title, Content, Header, IconWrapper } from './tree-menu.style';\nimport { Button } from 'components/button/button';\nimport { ArrowNext } from 'assets/icons/ArrowNext';\nimport * as icons from 'assets/icons/category-icons';\nvar Tree = /*#__PURE__*/React.memo(_c = _s(function (_ref) {\n  _s();\n\n  var children = _ref.children,\n      name = _ref.name,\n      icon = _ref.icon,\n      onClick = _ref.onClick,\n      dropdown = _ref.dropdown,\n      onToggleBtnClick = _ref.onToggleBtnClick,\n      depth = _ref.depth,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen;\n\n  var _useState = useState(defaultOpen),\n      isOpen = _useState[0],\n      setOpen = _useState[1];\n\n  useEffect(function () {\n    setOpen(defaultOpen);\n  }, [defaultOpen]);\n  var previous = usePrevious(isOpen);\n\n  var _useMeasure = useMeasure(),\n      _useMeasure2 = _slicedToArray(_useMeasure, 2),\n      bind = _useMeasure2[0],\n      viewHeight = _useMeasure2[1].height;\n\n  var _useSpring = useSpring({\n    from: {\n      height: 0,\n      opacity: 0,\n      transform: 'translate3d(20px,0,0)'\n    },\n    to: {\n      height: isOpen ? viewHeight : 0,\n      opacity: isOpen ? 1 : 0,\n      transform: \"translate3d(\".concat(isOpen ? 0 : 20, \"px,0,0)\")\n    }\n  }),\n      height = _useSpring.height,\n      opacity = _useSpring.opacity,\n      transform = _useSpring.transform; // const Icon = icon ? Icons[icon] : depth === 'child' ? Icons['Minus'] : null;\n  // const Icon = icon ? Icons[icon] : null;\n\n\n  var Icon = function Icon(_ref2) {\n    var iconName = _ref2.iconName,\n        style = _ref2.style;\n    var TagName = icons[iconName];\n    return !!TagName ? /*#__PURE__*/_jsxDEV(TagName, {\n      style: style\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, _this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Invalid icon \", iconName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Frame, {\n    depth: depth,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      open: isOpen,\n      depth: depth,\n      className: depth,\n      children: [icon && /*#__PURE__*/_jsxDEV(IconWrapper, {\n        depth: depth,\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          iconName: icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(Title, {\n        onClick: onClick,\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, _this), dropdown === true && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: function onClick() {\n          return setOpen(!isOpen);\n        },\n        variant: \"text\",\n        className: \"toggleButton\",\n        children: /*#__PURE__*/_jsxDEV(ArrowNext, {\n          width: \"16px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(Content, {\n      style: {\n        opacity: opacity,\n        height: isOpen && previous === isOpen ? 'auto' : height\n      },\n      children: /*#__PURE__*/_jsxDEV(animated.div, _objectSpread(_objectSpread({\n        style: {\n          transform: transform\n        }\n      }, bind), {}, {\n        children: children\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 7\n  }, _this);\n}, \"A45YNx3uNae02YafACmgCxWEFMQ=\", false, function () {\n  return [usePrevious, useMeasure, useSpring];\n}));\n_c2 = Tree;\nexport var TreeMenu = function TreeMenu(_ref3) {\n  var data = _ref3.data,\n      className = _ref3.className,\n      _onClick = _ref3.onClick,\n      active = _ref3.active;\n\n  var handler = function handler(children) {\n    return children.map(function (subOption) {\n      if (!subOption.children) {\n        return /*#__PURE__*/_jsxDEV(Tree, {\n          name: subOption.title,\n          icon: subOption.icon,\n          depth: \"child\",\n          onClick: function onClick() {\n            return _onClick(subOption.slug);\n          },\n          defaultOpen: active === subOption.slug\n        }, subOption.title, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, _this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(Tree, {\n        name: subOption.title,\n        icon: subOption.icon,\n        dropdown: !subOption.children.length ? false : true,\n        depth: \"parent\",\n        onClick: function onClick() {\n          return _onClick(subOption.slug);\n        },\n        defaultOpen: active === subOption.slug || subOption.children.some(function (item) {\n          return item.slug === active;\n        }),\n        children: handler(subOption.children)\n      }, subOption.title, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, _this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: handler(data)\n  }, void 0, false);\n};\n_c3 = TreeMenu;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Tree$React.memo\");\n$RefreshReg$(_c2, \"Tree\");\n$RefreshReg$(_c3, \"TreeMenu\");","map":{"version":3,"sources":["/Users/alejandrosandoval/space/world_eserp/web/packages/shop-restaurant/src/components/tree-menu/tree-menu.tsx"],"names":["React","useState","useEffect","usePrevious","useMeasure","useSpring","animated","Frame","Title","Content","Header","IconWrapper","Button","ArrowNext","icons","Tree","memo","children","name","icon","onClick","dropdown","onToggleBtnClick","depth","defaultOpen","isOpen","setOpen","previous","bind","viewHeight","height","from","opacity","transform","to","Icon","iconName","style","TagName","TreeMenu","data","className","active","handler","map","subOption","title","slug","length","some","item"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { usePrevious, useMeasure } from 'utils/hooks';\nimport { useSpring, animated } from 'react-spring';\nimport { Frame, Title, Content, Header, IconWrapper } from './tree-menu.style';\nimport { Button } from 'components/button/button';\nimport { ArrowNext } from 'assets/icons/ArrowNext';\nimport * as icons from 'assets/icons/category-icons';\n\nconst Tree = React.memo(\n  ({\n    children,\n    name,\n    icon,\n    // isOpen,\n    onClick,\n    dropdown,\n    onToggleBtnClick,\n    depth,\n    defaultOpen = false,\n  }: any) => {\n    const [isOpen, setOpen] = useState(defaultOpen);\n    useEffect(() => {\n      setOpen(defaultOpen);\n    }, [defaultOpen]);\n    const previous = usePrevious(isOpen);\n    const [bind, { height: viewHeight }] = useMeasure();\n    const { height, opacity, transform } = useSpring<any>({\n      from: { height: 0, opacity: 0, transform: 'translate3d(20px,0,0)' },\n      to: {\n        height: isOpen ? viewHeight : 0,\n        opacity: isOpen ? 1 : 0,\n        transform: `translate3d(${isOpen ? 0 : 20}px,0,0)`,\n      },\n    });\n    // const Icon = icon ? Icons[icon] : depth === 'child' ? Icons['Minus'] : null;\n    // const Icon = icon ? Icons[icon] : null;\n    const Icon = ({ iconName, style }: { iconName: any; style?: any }) => {\n      const TagName = icons[iconName];\n      return !!TagName ? (\n        <TagName style={style} />\n      ) : (\n        <p>Invalid icon {iconName}</p>\n      );\n    };\n    return (\n      <Frame depth={depth}>\n        <Header open={isOpen} depth={depth} className={depth}>\n          {icon && (\n            <IconWrapper depth={depth}>\n              <Icon iconName={icon} />\n            </IconWrapper>\n          )}\n          <Title onClick={onClick}>{name}</Title>\n\n          {dropdown === true && (\n            <Button\n              onClick={() => setOpen(!isOpen)}\n              variant=\"text\"\n              className=\"toggleButton\"\n            >\n              <ArrowNext width=\"16px\" />\n            </Button>\n          )}\n        </Header>\n        <Content\n          style={{\n            opacity,\n            height: isOpen && previous === isOpen ? 'auto' : height,\n          }}\n        >\n          <animated.div style={{ transform }} {...bind} children={children} />\n        </Content>\n      </Frame>\n    );\n  }\n);\n\ntype Props = {\n  className?: any;\n  data: any;\n  onClick: (slug: string) => void;\n  active: string | string[];\n};\nexport const TreeMenu: React.FC<Props> = ({\n  data,\n  className,\n  onClick,\n  active,\n}) => {\n  const handler = (children) => {\n    return children.map((subOption) => {\n      if (!subOption.children) {\n        return (\n          <Tree\n            key={subOption.title}\n            name={subOption.title}\n            icon={subOption.icon}\n            depth=\"child\"\n            onClick={() => onClick(subOption.slug)}\n            defaultOpen={active === subOption.slug}\n          />\n        );\n      }\n      return (\n        <Tree\n          key={subOption.title}\n          name={subOption.title}\n          icon={subOption.icon}\n          dropdown={!subOption.children.length ? false : true}\n          depth=\"parent\"\n          onClick={() => onClick(subOption.slug)}\n          defaultOpen={\n            active === subOption.slug ||\n            subOption.children.some((item) => item.slug === active)\n          }\n        >\n          {handler(subOption.children)}\n        </Tree>\n      );\n    });\n  };\n  return <>{handler(data)}</>;\n};\n"]},"metadata":{},"sourceType":"module"}