{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport Link from 'next/link';\nimport { Button } from 'components/button/button';\nimport { ProductDetailsWrapper, ProductPreview, ProductInfo, ProductTitlePriceWrapper, ProductTitle, ProductDescription, ButtonText, ProductMeta, ProductCartWrapper, ProductPriceWrapper, ProductPrice, SalePrice, ProductCartBtn, MetaTitle, MetaSingle, MetaItem, RelatedItems } from './product-details-six.style';\nimport { CartIcon } from 'assets/icons/CartIcon';\nimport ReadMore from 'components/truncate/truncate';\nimport CarouselWithCustomDots from 'components/multi-carousel/multi-carousel';\nimport { CURRENCY } from 'utils/constant';\nimport { FormattedMessage } from 'react-intl';\nimport { useLocale } from 'contexts/language/language.provider';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { Counter } from 'components/counter/counter';\nimport { ProductGrid } from 'components/product-grid/product-grid-three';\n\nconst ProductDetails = ({\n  product,\n  deviceType\n}) => {\n  var _product$categories;\n\n  const {\n    isRtl\n  } = useLocale();\n  const {\n    addItem,\n    removeItem,\n    isInCart,\n    getItem\n  } = useCart();\n  const data = product;\n\n  const handleAddClick = e => {\n    e.stopPropagation();\n    addItem(data);\n  };\n\n  const handleRemoveClick = e => {\n    e.stopPropagation();\n    removeItem(data);\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 500);\n  }, []);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(ProductDetailsWrapper, {\n      className: \"product-card\",\n      dir: \"ltr\",\n      children: [!isRtl && /*#__PURE__*/_jsx(ProductPreview, {\n        children: /*#__PURE__*/_jsx(CarouselWithCustomDots, {\n          items: product.gallery,\n          deviceType: deviceType\n        })\n      }), /*#__PURE__*/_jsxs(ProductInfo, {\n        dir: isRtl ? 'rtl' : 'ltr',\n        children: [/*#__PURE__*/_jsx(ProductTitlePriceWrapper, {\n          children: /*#__PURE__*/_jsx(ProductTitle, {\n            children: product.title\n          })\n        }), /*#__PURE__*/_jsxs(ProductPriceWrapper, {\n          children: [/*#__PURE__*/_jsxs(ProductPrice, {\n            children: [CURRENCY, product.salePrice ? product.salePrice : product.price]\n          }), product.discountInPercent ? /*#__PURE__*/_jsxs(SalePrice, {\n            children: [CURRENCY, product.price]\n          }) : null]\n        }), /*#__PURE__*/_jsx(ProductDescription, {\n          children: /*#__PURE__*/_jsx(ReadMore, {\n            character: 600,\n            children: product.description\n          })\n        }), /*#__PURE__*/_jsx(ProductCartWrapper, {\n          children: /*#__PURE__*/_jsx(ProductCartBtn, {\n            children: !isInCart(data.id) ? /*#__PURE__*/_jsxs(Button, {\n              className: \"cart-button\",\n              variant: \"primary\",\n              size: \"big\",\n              onClick: handleAddClick,\n              children: [/*#__PURE__*/_jsx(CartIcon, {\n                mr: 2\n              }), /*#__PURE__*/_jsx(ButtonText, {\n                children: /*#__PURE__*/_jsx(FormattedMessage, {\n                  id: \"addToCartButton\",\n                  defaultMessage: \"Add to cart\"\n                })\n              })]\n            }) : /*#__PURE__*/_jsx(Counter, {\n              value: getItem(data.id).quantity,\n              onDecrement: handleRemoveClick,\n              onIncrement: handleAddClick,\n              className: \"card-counter\",\n              variant: \"altHorizontal\"\n            })\n          })\n        }), /*#__PURE__*/_jsxs(ProductMeta, {\n          children: [/*#__PURE__*/_jsx(MetaTitle, {\n            children: \"Tags:\"\n          }), /*#__PURE__*/_jsx(MetaSingle, {\n            children: product === null || product === void 0 ? void 0 : (_product$categories = product.categories) === null || _product$categories === void 0 ? void 0 : _product$categories.map(item => /*#__PURE__*/_jsx(Link, {\n              href: `/${product.type.toLowerCase()}?category=${item.slug}`,\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: /*#__PURE__*/_jsx(MetaItem, {\n                  children: item.title\n                })\n              })\n            }, `link-${item.id}`))\n          })]\n        })]\n      }), isRtl && /*#__PURE__*/_jsx(ProductPreview, {\n        children: /*#__PURE__*/_jsx(CarouselWithCustomDots, {\n          items: product.gallery,\n          deviceType: deviceType\n        })\n      })]\n    }), /*#__PURE__*/_jsxs(RelatedItems, {\n      children: [/*#__PURE__*/_jsx(\"h2\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"intlRelatedItems\",\n          defaultMessage: \"Related Items\"\n        })\n      }), /*#__PURE__*/_jsx(ProductGrid, {\n        type: product.type.toLowerCase().replace('_', '-'),\n        loadMore: false,\n        fetchLimit: 5,\n        style: {\n          gridTemplateColumns: 'repeat(auto-fit, minmax(240px, 1fr))'\n        }\n      })]\n    })]\n  });\n};\n\nexport default ProductDetails;","map":null,"metadata":{},"sourceType":"module"}