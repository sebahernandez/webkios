{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/alejandrosandoval/space/world_eserp/web/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/alejandrosandoval/space/world_eserp/web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/alejandrosandoval/space/world_eserp/web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/alejandrosandoval/space/world_eserp/web/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport RadioGroup from 'components/radio-group/radio-group';\nimport RadioCard from 'components/radio-card/radio-card';\nimport { Button } from 'components/button/button';\nimport UpdateAddress from 'components/address-card/address-card';\nimport { handleModal } from 'features/checkouts/checkout-modal';\nimport { ProfileContext } from 'contexts/profile/profile.context';\nimport { useMutation } from '@apollo/client';\nimport { DELETE_ADDRESS } from 'graphql/mutation/address';\nimport { CardHeader } from 'components/card-header/card-header';\nimport { ButtonGroup } from 'components/button-group/button-group';\nimport { Box } from 'components/box';\nimport { Plus } from 'assets/icons/PlusMinus';\n\nvar Address = function Address(_ref) {\n  var _ref$increment = _ref.increment,\n      increment = _ref$increment === void 0 ? false : _ref$increment,\n      _ref$flexStart = _ref.flexStart,\n      flexStart = _ref$flexStart === void 0 ? false : _ref$flexStart,\n      _ref$buttonProps = _ref.buttonProps,\n      buttonProps = _ref$buttonProps === void 0 ? {\n    size: 'big',\n    variant: 'outlined',\n    type: 'button',\n    className: 'add-button'\n  } : _ref$buttonProps,\n      _ref$icon = _ref.icon,\n      icon = _ref$icon === void 0 ? false : _ref$icon;\n\n  var _useMutation = useMutation(DELETE_ADDRESS),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      deleteAddressMutation = _useMutation2[0];\n\n  var _useContext = useContext(ProfileContext),\n      address = _useContext.state.address,\n      dispatch = _useContext.dispatch;\n\n  var handleOnDelete = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(item) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch({\n                type: 'DELETE_ADDRESS',\n                payload: item.id\n              });\n              /* return await deleteAddressMutation({\n                variables: { addressId: JSON.stringify(item.id) },\n              }); */\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleOnDelete(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(CardHeader, {\n      increment: increment,\n      children: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"checkoutDeliveryAddress\",\n        defaultMessage: \"Selecciona tu direcci\\xF3n de Entrega\"\n      })\n    }), /*#__PURE__*/_jsx(ButtonGroup, {\n      flexStart: flexStart,\n      children: /*#__PURE__*/_jsx(RadioGroup, {\n        items: address,\n        component: function component(item) {\n          return /*#__PURE__*/_jsx(RadioCard, {\n            id: item.id,\n            title: item.name,\n            content: item.info,\n            name: \"address\",\n            checked: item.type === 'primary',\n            onChange: function onChange() {\n              return dispatch({\n                type: 'SET_PRIMARY_ADDRESS',\n                payload: item.id.toString()\n              });\n            },\n            onEdit: function onEdit() {\n              return handleModal(UpdateAddress, item);\n            },\n            onDelete: function onDelete() {\n              return handleOnDelete(item);\n            }\n          }, item.id);\n        },\n        secondaryComponent: /*#__PURE__*/_jsxs(Button, _objectSpread(_objectSpread({}, buttonProps), {}, {\n          onClick: function onClick() {\n            return handleModal(UpdateAddress, 'add-address-modal');\n          },\n          children: [icon && /*#__PURE__*/_jsx(Box, {\n            mr: 2,\n            children: /*#__PURE__*/_jsx(Plus, {\n              width: \"10px\"\n            })\n          }), /*#__PURE__*/_jsx(FormattedMessage, {\n            id: \"addAddressBtn\",\n            defaultMessage: \"Agrega tu Direcci\\xF3n de Entrega\"\n          })]\n        }))\n      })\n    })]\n  });\n};\n\nexport default Address;","map":null,"metadata":{},"sourceType":"module"}