{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Router from 'next/router'; // import { closeModal } from '@redq/reuse-modal';\n\nimport { Button } from 'components/button/button';\nimport { QuickViewWrapper, ProductDetailsWrapper, ProductPreview, DiscountPercent, ProductInfoWrapper, ProductInfo, ProductTitlePriceWrapper, ProductTitle, ProductWeight, ProductDescription, ButtonText, ProductMeta, ProductCartWrapper, ProductPriceWrapper, ProductPrice, SalePrice, ProductCartBtn, MetaSingle, MetaItem } from './quick-view.style';\nimport { CartIcon } from 'assets/icons/CartIcon';\nimport { CURRENCY } from 'utils/constant';\nimport ReadMore from 'components/truncate/truncate';\nimport CarouselWithCustomDots from 'components/multi-carousel/multi-carousel';\nimport { useLocale } from 'contexts/language/language.provider';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { Counter } from 'components/counter/counter';\nimport { FormattedMessage } from 'react-intl';\n\nconst QuickViewMobile = ({\n  modalProps,\n  onModalClose,\n  hideModal,\n  deviceType\n}) => {\n  const {\n    addItem,\n    removeItem,\n    isInCart,\n    getItem\n  } = useCart();\n  const {\n    id,\n    type,\n    title,\n    nombre,\n    unit,\n    precio,\n    descuento,\n    precio_venta,\n    descripcion,\n    gallery,\n    categories\n  } = modalProps;\n  const {\n    isRtl\n  } = useLocale();\n  console.log('::: 666 ::::', gallery);\n  let gallery2 = JSON.parse(gallery);\n  console.log('::: 666 2::::', gallery2);\n\n  const handleAddClick = e => {\n    e.stopPropagation();\n    addItem(modalProps);\n  };\n\n  const handleRemoveClick = e => {\n    e.stopPropagation();\n    removeItem(modalProps);\n  };\n\n  function onCategoryClick(slug) {\n    Router.push({\n      pathname: `/${type.toLowerCase()}`,\n      query: {\n        category: slug\n      }\n    }).then(() => window.scrollTo(0, 0));\n    hideModal();\n  } // lista de detalle del producto \n\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsx(QuickViewWrapper, {\n      className: \"quick-view-mobile-wrapper\",\n      children: /*#__PURE__*/_jsxs(ProductDetailsWrapper, {\n        className: \"product-card\",\n        dir: \"ltr\",\n        children: [/*#__PURE__*/_jsxs(ProductPreview, {\n          children: [/*#__PURE__*/_jsx(CarouselWithCustomDots, {\n            items: gallery2,\n            deviceType: deviceType\n          }), !!descuento && /*#__PURE__*/_jsxs(DiscountPercent, {\n            children: [descuento, \"%\"]\n          })]\n        }), /*#__PURE__*/_jsx(ProductInfoWrapper, {\n          dir: isRtl ? 'rtl' : 'ltr',\n          children: /*#__PURE__*/_jsxs(ProductInfo, {\n            children: [/*#__PURE__*/_jsx(ProductTitlePriceWrapper, {\n              children: /*#__PURE__*/_jsx(ProductTitle, {\n                children: nombre\n              })\n            }), /*#__PURE__*/_jsx(ProductWeight, {\n              children: unit\n            }), /*#__PURE__*/_jsx(ProductDescription, {\n              children: /*#__PURE__*/_jsx(ReadMore, {\n                character: 600,\n                children: descripcion\n              })\n            }), /*#__PURE__*/_jsx(ProductMeta, {\n              children: /*#__PURE__*/_jsx(MetaSingle, {\n                children: categories ? categories.map(item => /*#__PURE__*/_jsx(MetaItem, {\n                  onClick: () => onCategoryClick(item.slug),\n                  children: item.name\n                }, item.id)) : ''\n              })\n            }), /*#__PURE__*/_jsxs(ProductCartWrapper, {\n              children: [/*#__PURE__*/_jsxs(ProductPriceWrapper, {\n                children: [/*#__PURE__*/_jsxs(ProductPrice, {\n                  children: [CURRENCY, precio_venta ? precio_venta : precio]\n                }), descuento ? /*#__PURE__*/_jsxs(SalePrice, {\n                  children: [CURRENCY, precio]\n                }) : null]\n              }), /*#__PURE__*/_jsx(ProductCartBtn, {\n                children: !isInCart(id) ? /*#__PURE__*/_jsxs(Button, {\n                  className: \"cart-button\",\n                  variant: \"secondary\",\n                  borderRadius: 100,\n                  onClick: handleAddClick,\n                  children: [/*#__PURE__*/_jsx(CartIcon, {\n                    mr: 2\n                  }), /*#__PURE__*/_jsx(ButtonText, {\n                    children: /*#__PURE__*/_jsx(FormattedMessage, {\n                      id: \"addCartButton\",\n                      defaultMessage: \"Cart\"\n                    })\n                  })]\n                }) : /*#__PURE__*/_jsx(Counter, {\n                  value: getItem(id).quantity,\n                  onDecrement: handleRemoveClick,\n                  onIncrement: handleAddClick\n                })\n              })]\n            })]\n          })\n        })]\n      })\n    })\n  });\n};\n\nexport default QuickViewMobile;","map":null,"metadata":{},"sourceType":"module"}