{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useRef } from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { Button } from 'components/button/button';\nimport { ProductDetailsWrapper, ProductPreview, ProductInfo, BookTitle, BackButton, AuthorName, BookDescriptionWrapper, BookDescription, BookMetaTable, BookMetaTableRow, BookMetaItem, ProductMeta, ButtonText, ProductCartWrapper, ProductPriceWrapper, ProductPrice, SalePrice, ProductCartBtn, MetaSingle, MetaItem, DetailsWrapper, DetailsTitle, Description, Avatar, SocialNetworks, SocialIcon, RelatedItems } from './product-details-two.style';\nimport { LongArrowLeft } from 'assets/icons/LongArrowLeft';\nimport { CartIcon } from 'assets/icons/CartIcon';\nimport { InkPen } from 'assets/icons/InkPen';\nimport { AdobeIcon } from 'assets/icons/AdobeIcon';\nimport { Facebook } from 'assets/icons/facebook';\nimport { GooglePlus } from 'assets/icons/GooglePlus';\nimport { Twitter } from 'assets/icons/Twitter';\nimport { Linkedin } from 'assets/icons/Linkedin';\nimport { CURRENCY } from 'utils/constant';\nimport Products from 'components/product-grid/product-list/product-list';\nimport { FormattedMessage } from 'react-intl';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { Counter } from 'components/counter/counter';\n\nconst ProductDetails = ({\n  product,\n  deviceType\n}) => {\n  const {\n    addItem,\n    removeItem,\n    getItem,\n    isInCart\n  } = useCart();\n  const data = product;\n  const scrollRef = useRef(null);\n\n  const scrollToDiv = e => {\n    e.preventDefault();\n    window.scrollTo({\n      top: scrollRef.current.getBoundingClientRect().top + window.pageYOffset - 65,\n      behavior: 'smooth'\n    });\n  };\n\n  const handleAddClick = e => {\n    e.stopPropagation();\n    addItem(data);\n  };\n\n  const handleRemoveClick = e => {\n    e.stopPropagation();\n    removeItem(data);\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 500);\n  }, []);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(ProductDetailsWrapper, {\n      className: \"product-card\",\n      children: [/*#__PURE__*/_jsxs(ProductPreview, {\n        children: [/*#__PURE__*/_jsx(BackButton, {\n          children: /*#__PURE__*/_jsxs(Button, {\n            type: \"button\",\n            size: \"small\",\n            style: {\n              backgroundColor: '#ffffff',\n              border: '1px solid #f1f1f1',\n              color: '#77798c'\n            },\n            onClick: Router.back,\n            children: [/*#__PURE__*/_jsx(LongArrowLeft, {\n              style: {\n                marginRight: 5\n              }\n            }), /*#__PURE__*/_jsx(FormattedMessage, {\n              id: \"backBtn\",\n              defaultMessage: \"Back\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"img\", {\n          src: product.gallery[0].url,\n          alt: product.title,\n          className: \"product-image\"\n        })]\n      }), /*#__PURE__*/_jsxs(ProductInfo, {\n        children: [/*#__PURE__*/_jsx(BookTitle, {\n          children: product.title\n        }), /*#__PURE__*/_jsxs(AuthorName, {\n          children: [/*#__PURE__*/_jsx(InkPen, {}), \" \", product.author.name]\n        }), /*#__PURE__*/_jsxs(BookDescriptionWrapper, {\n          children: [/*#__PURE__*/_jsxs(BookDescription, {\n            children: [product.description.substring(0, 600), /*#__PURE__*/_jsx(\"a\", {\n              href: \"#\",\n              onClick: scrollToDiv,\n              style: {\n                color: '#009e7f',\n                fontWeight: 700\n              },\n              children: \"Read More\"\n            })]\n          }), /*#__PURE__*/_jsx(BookMetaTable, {\n            children: product.meta ? Object.entries(product.meta).map(([item], i, arr) => i !== arr.length - 1 && i !== arr.length - 2 ? /*#__PURE__*/_jsxs(BookMetaTableRow, {\n              children: [/*#__PURE__*/_jsx(BookMetaItem, {\n                children: item.replace(/^[a-z]|[A-Z]/g, function (v, i) {\n                  return i === 0 ? v.toUpperCase() : ' ' + v.toLowerCase();\n                })\n              }), /*#__PURE__*/_jsx(BookMetaItem, {\n                children: item === 'languages' ? product.meta[item].map((lang, i, arr) => lang.charAt(0).toUpperCase() + lang.slice(1) + (i !== arr.length - 1 ? ', ' : '')) : product.meta[item]\n              })]\n            }, i) : '') : ''\n          })]\n        }), /*#__PURE__*/_jsxs(ProductCartWrapper, {\n          children: [/*#__PURE__*/_jsxs(ProductPriceWrapper, {\n            children: [product.discountInPercent ? /*#__PURE__*/_jsxs(SalePrice, {\n              children: [CURRENCY, product.price]\n            }) : null, /*#__PURE__*/_jsxs(ProductPrice, {\n              children: [CURRENCY, product.salePrice ? product.salePrice : product.price]\n            })]\n          }), /*#__PURE__*/_jsxs(ProductCartBtn, {\n            children: [!isInCart(data.id) ? /*#__PURE__*/_jsxs(Button, {\n              className: \"cart-button\",\n              variant: \"secondary\",\n              borderRadius: 100,\n              onClick: handleAddClick,\n              children: [/*#__PURE__*/_jsx(CartIcon, {\n                mr: 2\n              }), /*#__PURE__*/_jsx(ButtonText, {\n                children: /*#__PURE__*/_jsx(FormattedMessage, {\n                  id: \"addCartButton\",\n                  defaultMessage: \"Cart\"\n                })\n              })]\n            }) : /*#__PURE__*/_jsx(Counter, {\n              value: getItem(data.id).quantity,\n              onDecrement: handleRemoveClick,\n              onIncrement: handleAddClick\n            }), product.meta && product.meta.samplePDF.length !== 0 ? /*#__PURE__*/_jsx(Button, {\n              title: \"Read Free Sample\",\n              intlButtonId: \"readFreeSampleButton\",\n              iconPosition: \"left\",\n              size: \"small\",\n              variant: \"outlined\",\n              className: \"outline-button\",\n              icon: /*#__PURE__*/_jsx(AdobeIcon, {})\n            }) : null]\n          })]\n        }), /*#__PURE__*/_jsx(ProductMeta, {\n          children: /*#__PURE__*/_jsx(MetaSingle, {\n            children: product.categories ? product.categories.map(item => /*#__PURE__*/_jsx(Link, {\n              href: `/${product.type}?category=${item.slug}`,\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: /*#__PURE__*/_jsx(MetaItem, {\n                  children: item.title\n                })\n              })\n            }, `link-${item.id}`)) : ''\n          })\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(DetailsWrapper, {\n      ref: scrollRef,\n      children: [/*#__PURE__*/_jsx(DetailsTitle, {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"bookSectionTitle\",\n          defaultMessage: \"About The Book\"\n        })\n      }), /*#__PURE__*/_jsx(Description, {\n        children: product.description\n      })]\n    }), /*#__PURE__*/_jsxs(DetailsWrapper, {\n      children: [/*#__PURE__*/_jsx(DetailsTitle, {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"authorSectionTitle\",\n          defaultMessage: \"About The Author\"\n        })\n      }), /*#__PURE__*/_jsxs(AuthorName, {\n        children: [product.author.avatar && product.author.avatar.length !== 0 ? /*#__PURE__*/_jsx(Avatar, {\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: product.author.avatar,\n            alt: product.author.name\n          })\n        }) : /*#__PURE__*/_jsx(InkPen, {}), product.author.name]\n      }), /*#__PURE__*/_jsx(Description, {\n        children: product.author.bio\n      }), /*#__PURE__*/_jsx(SocialNetworks, {\n        children: product.author && product.author.socials.map(item => item.profileLink.length !== 0 ? /*#__PURE__*/_jsx(SocialIcon, {\n          children: /*#__PURE__*/_jsx(\"a\", {\n            href: item.profileLink,\n            target: \"_blank\",\n            children: item.media === 'facebook' ? /*#__PURE__*/_jsx(Facebook, {\n              color: \"#3b5999\"\n            }) : item.media === 'twitter' ? /*#__PURE__*/_jsx(Twitter, {\n              color: \"#55acee\"\n            }) : item.media === 'google' ? /*#__PURE__*/_jsx(GooglePlus, {\n              color: \"#dd4b39\"\n            }) : item.media === 'linkedin' ? /*#__PURE__*/_jsx(Linkedin, {\n              color: \"#0077B5\"\n            }) : ''\n          }, item.id)\n        }) : '')\n      })]\n    }), /*#__PURE__*/_jsxs(RelatedItems, {\n      children: [/*#__PURE__*/_jsx(\"h2\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"intlRelatedItems\",\n          defaultMessage: \"Related Items\"\n        })\n      }), /*#__PURE__*/_jsx(Products, {\n        type: product.type.toLowerCase(),\n        deviceType: deviceType,\n        loadMore: false,\n        fetchLimit: 10\n      })]\n    })]\n  });\n};\n\nexport default ProductDetails;","map":null,"metadata":{},"sourceType":"module"}