{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { useQuery, gql } from '@apollo/client';\nimport { SEO } from 'components/seo';\nimport CartPopUp from 'features/carts/cart-popup';\nimport { Modal } from '@redq/reuse-modal';\nimport config from 'setting/config';\nimport { GET_INFO_SHOP } from 'utils/graphql/query/infoshop.query';\nimport { OfferPageWrapper, ProductsRow, MainContentArea, ProductsCol } from 'assets/styles/pages.style';\nimport GiftCard from 'components/gift-card/gift-card';\nimport { initializeApollo } from 'utils/apollo';\nimport dynamic from 'next/dynamic';\nconst ErrorMessage = dynamic(() => import('components/error-message/error-message'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('components/error-message/error-message')],\n    modules: [\"offer.tsx -> \" + 'components/error-message/error-message']\n  }\n});\nconst GET_COUPON = gql`\n  query cupon($clientid: String!) {\n    cupon(where: {clientid: {_eq: $clientid}}) {\n      id\n      image\n      code\n      estado\n      creacion\n      discount\n    }\n  }\n`;\nconst cid = config().SUBSCRIPTION_ID;\n\nconst GiftCardPage = ({\n  deviceType\n}) => {\n  const {\n    data,\n    error\n  } = useQuery(GET_COUPON, {\n    variables: {\n      clientid: config().SUBSCRIPTION_ID\n    }\n  });\n  var {\n    data: data1\n  } = useQuery(GET_INFO_SHOP, {\n    variables: {\n      clientid: cid\n    }\n  });\n  if (error) return /*#__PURE__*/_jsx(ErrorMessage, {\n    message: error.message\n  });\n  return /*#__PURE__*/_jsxs(Modal, {\n    children: [/*#__PURE__*/_jsx(SEO, {\n      title: data1 && data1.info_shop_view[0].site_name,\n      description: data1 && data1.info_shop_view[0].description + ' - Detalle'\n    }), /*#__PURE__*/_jsx(OfferPageWrapper, {\n      children: /*#__PURE__*/_jsx(MainContentArea, {\n        children: /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            width: '100%'\n          },\n          children: /*#__PURE__*/_jsx(ProductsRow, {\n            children: data && data.cupon ? data.cupon.map(coupon => /*#__PURE__*/_jsx(ProductsCol, {\n              children: /*#__PURE__*/_jsx(GiftCard, {\n                image: coupon.image,\n                code: coupon.code\n              })\n            }, coupon.code)) : null\n          })\n        })\n      })\n    }), /*#__PURE__*/_jsx(CartPopUp, {\n      deviceType: deviceType\n    })]\n  });\n};\n\nexport const getStaticProps = async () => {\n  const apolloClient = initializeApollo();\n  await apolloClient.query({\n    query: GET_COUPON\n  });\n  return {\n    props: {\n      initialApolloState: apolloClient.cache.extract()\n    }\n  };\n};\nexport default GiftCardPage;","map":null,"metadata":{},"sourceType":"module"}